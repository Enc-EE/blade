!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var o=function(){function e(){var e=this;this.animations=[],this.updates=[],this.addAnimation=function(t){e.animations.push(t)},this.removeAnimation=function(t){e.animations.splice(e.animations.indexOf(t),1)},this.addUpdate=function(t){e.updates.push(t)},this.removeUpdate=function(t){e.updates.splice(e.updates.indexOf(t),1)},this.addAnimatable=function(t){e.updates.push(t.update),e.animations.push(t.draw)},this.removeAnimatable=function(t){e.updates.splice(e.updates.indexOf(t.update),1),e.animations.splice(e.animations.indexOf(t.draw),1)},this.addView=function(t){e.addAnimatable(t),t.width=e.width,t.height=e.height},this.removeView=function(t){e.removeAnimatable(t)},this.fps=40,this.fpsInterval=1e3/this.fps,this.animate=function(){requestAnimationFrame(e.animate);var t=Date.now(),n=t-e.lastFrameTime;if(n>e.fpsInterval){e.lastFrameTime=t;for(var o=0,i=e.updates;o<i.length;o++){(0,i[o])(n)}e.ctx.clearRect(0,0,e.canvas.width,e.canvas.height);for(var a=0,r=e.animations;a<r.length;a++){(0,r[a])(e.ctx,e.canvas.width,e.canvas.height)}}}}return Object.defineProperty(e.prototype,"width",{get:function(){return this.canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.canvas.height},enumerable:!0,configurable:!0}),e.createInBody=function(){document.body.parentElement.style.height="100%",document.body.style.height="100%",document.body.style.margin="0",document.body.style.overflow="hidden";var t=document.createElement("canvas");document.body.appendChild(t),t.style.width="100%",t.style.height="100%";var n=new e;return n.canvas=t,n.ctx=t.getContext("2d"),n.startAnimation(),n.resize(),n},e.prototype.resize=function(){this.canvas.width=this.canvas.clientWidth,this.canvas.height=this.canvas.clientHeight},e.prototype.startAnimation=function(){this.lastFrameTime=Date.now(),this.animate()},e}(),i=function(){return function(){var e=this;this.animations=[],this.updates=[],this.isVisible=!0,this.update=function(t){if(e.isVisible)for(var n=0,o=e.updates;n<o.length;n++)(0,o[n])(t)},this.draw=function(t,n,o){if(e.isVisible)for(var i=0,a=e.animations;i<a.length;i++)(0,a[i])(t,n,o)},this.show=function(){e.isVisible=!0},this.hide=function(){e.isVisible=!1},this.addAnimation=function(t){e.animations.push(t)},this.removeAnimation=function(t){e.animations.splice(e.animations.indexOf(t),1)},this.addUpdate=function(t){e.updates.push(t)},this.removeUpdate=function(t){e.updates.splice(e.updates.indexOf(t),1)},this.addAnimatable=function(t){e.updates.push(t.update),e.animations.push(t.draw)},this.removeAnimatable=function(t){e.updates.splice(e.updates.indexOf(t.update),1),e.animations.splice(e.animations.indexOf(t.draw),1)}}}(),a=function(){function e(e,t,n,o,i){var a=this;this.controller=e,this.onShow=t,this.onAdd=n,this.onRemove=o,this.start=i,this.isShown=!1,this.isAdded=!1,this.addTimerSeconds=1.5,this.removeTimerSeconds=2.5,this.rememberedX=0,this.rememberedY=0,this.location=0,this.update=function(e){a.isShown?a.isAdded?(a.angle=a.angle+Math.PI/9,a.angle=a.angle%(2*Math.PI),a.x=a.rememberedX+25*a.controller.xAxes,a.y=a.rememberedY+25*a.controller.yAxes,a.controller.yAxes>.3?(a.addTimer+=a.controller.yAxes*e/1e3,a.addTimer>=a.removeTimerSeconds&&(a.addTimer=0,a.isShown=!1,a.isAdded=!1,a.onRemove(a))):a.controller.yAxes<.1&&(a.addTimer=0),a.controller.start&&(console.log("start"),a.start())):a.controller.yAxes<-.3?(a.addTimer-=a.controller.yAxes*e/1e3,a.addTimer>=a.addTimerSeconds&&(a.onAdd(a),a.isAdded=!0,a.addTimer=0)):a.controller.yAxes>-.1&&(a.addTimer=0,a.isShown=!1,a.onRemove(a)):a.controller.yAxes<-.3&&(a.onShow(a),a.isShown=!0,a.addTimer-=a.controller.yAxes*e/1e3)},this.draw=function(e,t,n){if(a.location>0){console.log(a.location);var o="black",i=0,r=0;switch(a.location){case 1:o="red",i=t/3,r=(n-100)/3+100;break;case 2:o="green",i=t/3*2,r=(n-100)/3+100;break;case 3:o="blue",i=t/3,r=(n-100)/3*2+100;break;case 4:o="orange",i=t/3*2,r=(n-100)/3*2+100}a.color=o,a.x=i,a.y=r,a.rememberedX=i,a.rememberedY=r,a.location=0}e.fillStyle=a.color,e.save(),e.translate(a.x,a.y),a.isAdded&&(e.save(),e.rotate(a.angle),e.fillRect(-25,-25,50,50),e.restore()),a.isShown&&!a.isAdded&&e.fillRect(-25,35,50/a.addTimerSeconds*a.addTimer,10),a.isShown&&a.isAdded&&a.addTimer>0&&e.fillRect(-25,35,50-50/a.removeTimerSeconds*a.addTimer,10),e.restore()},this.color="black",this.x=0,this.y=0,this.angle=0,this.addTimer=0}return Object.defineProperty(e.prototype,"controllerName",{get:function(){return this.controller.name},enumerable:!0,configurable:!0}),e}(),r=function(){return function(e,t,n,o,i){var a=this;this.name=e,this.xAxes=0,this.yAxes=0,this.start=!1,document.addEventListener("keydown",function(e){e.keyCode==t&&(a.xAxes=-1),e.keyCode==n&&(a.yAxes=-1),e.keyCode==o&&(a.xAxes=1),e.keyCode==i&&(a.yAxes=1),13==e.keyCode&&(a.start=!0)}),document.addEventListener("keyup",function(e){e.keyCode==t&&(a.xAxes=-1)&&(a.xAxes=0),e.keyCode==n&&(a.yAxes=-1)&&(a.yAxes=0),e.keyCode==o&&(a.xAxes=1)&&(a.xAxes=0),e.keyCode==i&&(a.yAxes=1)&&(a.yAxes=0),13==e.keyCode&&(a.start=!1)})}}(),s=function(){function e(e,t){this.name=e,this.index=t}return Object.defineProperty(e.prototype,"xAxes",{get:function(){return navigator.getGamepads()[this.index].axes[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yAxes",{get:function(){return navigator.getGamepads()[this.index].axes[1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return navigator.getGamepads()[this.index].buttons[9].pressed},enumerable:!0,configurable:!0}),e}(),d=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),l=function(e){function t(t){var n=e.call(this)||this;n.start=t,n.menuBlades=[],n.controllers=[],n.gamepads={},n.showMenuBlade=function(e){console.log(e.controllerName),n.menuBlades.length<=4?(n.menuBlades.push(e),e.location=n.menuBlades.length):console.log("Sorry, only 4 controllers supported")},n.addController=function(e){n.controllers.push(e.controller),console.log("added controller "+e.controllerName)},n.removeControllerAndMenuBlade=function(e){n.menuBlades.splice(n.menuBlades.indexOf(e),1),n.controllers.splice(n.controllers.indexOf(e.controller),1),console.log("removed controller "+e.controllerName);for(var t=0;t<n.menuBlades.length;t++){n.menuBlades[t].location=t+1}},n.connecthandler=function(e){console.log("gamepad connected: "+e.gamepad.index+"/"+e.gamepad.id),n.addgamepad(e.gamepad)},n.scangamepads=function(){console.log("scangamepads");for(var e=navigator.getGamepads?navigator.getGamepads():[],t=0;t<e.length;t++)e[t]&&(console.log("scanned gamepad: "+e[t].index+"/"+e[t].id),e[t].index in n.gamepads?n.gamepads[e[t].index]=e[t]:n.addgamepad(e[t]))},n.disconnecthandler=function(e){console.log("gamepad disconnected: "+e.gamepad.index+"/"+e.gamepad.id),n.removegamepad(e.gamepad)},n.removegamepad=function(e){console.log("removing gamepad: "+e.index+"/"+e.id),delete n.gamepads[e.index];for(var t=0;t<n.menuBlades.length;t++){if(n.menuBlades[t].controllerName==e.index.toString()){n.menuBlades.splice(t,1);break}}},n.addgamepad=function(e){console.log("adding gamepad: "+e.index+"/"+e.id),n.gamepads[e.index]=e;var t=new a(new s(e.index.toString(),e.index),n.showMenuBlade,n.addController,n.removeControllerAndMenuBlade,n.start);n.addAnimatable(t)};var o="ongamepadconnected"in window;n.addAnimation(function(e,t,n){e.fillStyle="black",e.textAlign="center",e.font="22px sans-serif",e.fillText("You can control a blade with a gamepad, the arrow keys or WASD.",t/2,50),e.fillText("Press up to join and down to leave.",t/2,80),e.fillText("Press enter on keyboard or start on a controller to start.",t/2,110)});var i=new a(new r("arrows",37,38,39,40),n.showMenuBlade,n.addController,n.removeControllerAndMenuBlade,t);n.addAnimatable(i);var d=new a(new r("wasd",65,87,68,83),n.showMenuBlade,n.addController,n.removeControllerAndMenuBlade,t);return n.addAnimatable(d),window.addEventListener("gamepadconnected",n.connecthandler),window.addEventListener("gamepaddisconnected",n.disconnecthandler),console.log("haveEvents: "+o),o||setInterval(n.scangamepads,500),n}return d(t,e),t}(i),c=function(){return function(e){var t=this;this.controller=e,this.update=function(e){t.angle=t.angle+Math.PI/9,t.angle=t.angle%(2*Math.PI),t.vx+=t.controller.xAxes/400,t.vy+=t.controller.yAxes/400,t.x+=t.vx*e,t.y+=t.vy*e},this.draw=function(e,n,o){e.fillStyle=t.color,e.save(),e.translate(t.x,t.y),e.rotate(t.angle),e.fillRect(-25,-25,50,50),e.restore()},this.x=0,this.y=0,this.color="black",this.vx=0,this.vy=0,this.angle=0}}(),u=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t.prototype.start=function(e){for(var t=0;t<e.length;t++){var n=e[t],o=new c(n),i="black",a=0,r=0;switch(t+1){case 1:i="red",a=this.width/3,r=this.height/3;break;case 2:i="green",a=this.width/3*2,r=this.height/3;break;case 3:i="blue",a=this.width/3,r=this.height/3*2;break;case 4:i="orange",a=this.width/3*2,r=this.height/3*2}o.color=i,o.x=a,o.y=r,this.addAnimatable(o)}},t}(i),m=function(){function e(){var e=this;this.start=function(){e.menu.hide(),e.game.show(),e.game.start(e.menu.controllers)}}return e.prototype.run=function(){this.animation=o.createInBody(),this.menu=new l(this.start),this.game=new h,this.animation.addView(this.menu),this.animation.addView(this.game),this.game.hide()},e}();document.addEventListener("DOMContentLoaded",function(){(new m).run()},!1)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FuaW1hdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWVudUJsYWRlLnRzIiwid2VicGFjazovLy8uL3NyYy9rZXlib2FyZENvbnRyb2xzLnRzIiwid2VicGFjazovLy8uL3NyYy9nYW1lcGFkQ29udHJvbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21lbnVWaWV3LnRzIiwid2VicGFjazovLy8uL3NyYy9ibGFkZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2FtZVZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJBbmltYXRpb24iLCJfdGhpcyIsInRoaXMiLCJhbmltYXRpb25zIiwidXBkYXRlcyIsImFkZEFuaW1hdGlvbiIsImZ1bmMiLCJwdXNoIiwicmVtb3ZlQW5pbWF0aW9uIiwic3BsaWNlIiwiaW5kZXhPZiIsImFkZFVwZGF0ZSIsInJlbW92ZVVwZGF0ZSIsImFkZEFuaW1hdGFibGUiLCJhbmltYXRhYmxlIiwidXBkYXRlIiwiZHJhdyIsInJlbW92ZUFuaW1hdGFibGUiLCJhZGRWaWV3IiwidmlldyIsIndpZHRoIiwiaGVpZ2h0IiwicmVtb3ZlVmlldyIsImZwcyIsImZwc0ludGVydmFsIiwiYW5pbWF0ZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm5vdyIsIkRhdGUiLCJlbGFwc2VkIiwibGFzdEZyYW1lVGltZSIsIl9pIiwiX2EiLCJsZW5ndGgiLCJjdHgiLCJjbGVhclJlY3QiLCJjYW52YXMiLCJfYiIsIl9jIiwiY3JlYXRlSW5Cb2R5IiwiZG9jdW1lbnQiLCJib2R5IiwicGFyZW50RWxlbWVudCIsInN0eWxlIiwibWFyZ2luIiwib3ZlcmZsb3ciLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJhbmltYXRpb24iLCJnZXRDb250ZXh0Iiwic3RhcnRBbmltYXRpb24iLCJyZXNpemUiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsIlZpZXciLCJpc1Zpc2libGUiLCJ0aW1lRGlmZk1zIiwic2hvdyIsImhpZGUiLCJNZW51QmxhZGUiLCJjb250cm9sbGVyIiwib25TaG93Iiwib25BZGQiLCJvblJlbW92ZSIsInN0YXJ0IiwiaXNTaG93biIsImlzQWRkZWQiLCJhZGRUaW1lclNlY29uZHMiLCJyZW1vdmVUaW1lclNlY29uZHMiLCJyZW1lbWJlcmVkWCIsInJlbWVtYmVyZWRZIiwibG9jYXRpb24iLCJhbmdsZSIsIk1hdGgiLCJQSSIsIngiLCJ4QXhlcyIsInkiLCJ5QXhlcyIsImFkZFRpbWVyIiwiY29uc29sZSIsImxvZyIsImNvbG9yIiwic3RhcnRYIiwic3RhcnRZIiwiZmlsbFN0eWxlIiwic2F2ZSIsInRyYW5zbGF0ZSIsInJvdGF0ZSIsImZpbGxSZWN0IiwicmVzdG9yZSIsIktleWJvYXJkQ29udHJvbHMiLCJsZWZ0S2V5IiwidXBLZXkiLCJyaWdodEtleSIsImRvd25LZXkiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJrZXlDb2RlIiwiR2FtZXBhZENvbnRyb2xzIiwiaW5kZXgiLCJuYXZpZ2F0b3IiLCJnZXRHYW1lcGFkcyIsImF4ZXMiLCJidXR0b25zIiwicHJlc3NlZCIsIm1lbnVWaWV3X01lbnVWaWV3IiwiX3N1cGVyIiwiTWVudVZpZXciLCJtZW51QmxhZGVzIiwiY29udHJvbGxlcnMiLCJnYW1lcGFkcyIsInNob3dNZW51QmxhZGUiLCJtZW51QmxhZGUiLCJjb250cm9sbGVyTmFtZSIsImFkZENvbnRyb2xsZXIiLCJyZW1vdmVDb250cm9sbGVyQW5kTWVudUJsYWRlIiwiY29ubmVjdGhhbmRsZXIiLCJlIiwiZ2FtZXBhZCIsImlkIiwiYWRkZ2FtZXBhZCIsInNjYW5nYW1lcGFkcyIsImRpc2Nvbm5lY3RoYW5kbGVyIiwicmVtb3ZlZ2FtZXBhZCIsInRvU3RyaW5nIiwiYmxhZGUiLCJoYXZlRXZlbnRzIiwid2luZG93IiwidGV4dEFsaWduIiwiZm9udCIsImZpbGxUZXh0IiwiYmxhZGUxIiwiYmxhZGUyIiwic2V0SW50ZXJ2YWwiLCJfX2V4dGVuZHMiLCJCbGFkZSIsInZ4IiwidnkiLCJnYW1lVmlld19HYW1lVmlldyIsIkdhbWVWaWV3IiwiZ2FtZVZpZXdfZXh0ZW5kcyIsImFwcF9BcHAiLCJBcHAiLCJtZW51IiwiZ2FtZSIsInJ1biJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxJQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFlBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEdBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FD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SSxLQUFLdEYsT0FDVnpELEVBQUtnSixLQUFLeEYsT0FDVnhELEVBQUtnSixLQUFLakYsTUFBTS9ELEVBQUsrSSxLQUFLbEMsY0FFbEMsT0FkV2lDLEVBQUFuSixVQUFBc0osSUFBUCxXQUNJaEosS0FBSzhDLFVBQVloRCxFQUFVdUMsZUFDM0JyQyxLQUFLOEksS0FBTyxJQUFJdEMsRUFBU3hHLEtBQUs4RCxPQUM5QjlELEtBQUsrSSxLQUFPLElBQUlOLEVBQ2hCekksS0FBSzhDLFVBQVU5QixRQUFRaEIsS0FBSzhJLE1BQzVCOUksS0FBSzhDLFVBQVU5QixRQUFRaEIsS0FBSytJLE1BQzVCL0ksS0FBSytJLEtBQUt2RixRQVFsQnFGLEVBbkJBLEdDSEF2RyxTQUFTd0QsaUJBQWlCLG1CQUUxQixZQUNjLElBQUk4QyxHQUNaSSxRQUo4QyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiaW1wb3J0IHsgVmlldyB9IGZyb20gXCIuL3ZpZXdcIjtcclxuXHJcbmV4cG9ydCB0eXBlIEFuaW1hdGlvbkZ1bmN0aW9uID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB3aWR0aD86IG51bWJlciwgaGVpZ2h0PzogbnVtYmVyKSA9PiB2b2lkO1xyXG5leHBvcnQgdHlwZSBVcGRhdGVGdW5jdGlvbiA9ICh0aW1lRGlmZk1zOiBudW1iZXIpID0+IHZvaWQ7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEFuaW1hdGFibGUge1xyXG4gICAgdXBkYXRlOiBVcGRhdGVGdW5jdGlvbjtcclxuICAgIGRyYXc6IEFuaW1hdGlvbkZ1bmN0aW9uO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQW5pbWF0aW9uIHtcclxuICAgIHByaXZhdGUgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgIHByaXZhdGUgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XHJcbiAgICBwcml2YXRlIGFuaW1hdGlvbnM6IEFuaW1hdGlvbkZ1bmN0aW9uW10gPSBbXTtcclxuICAgIHByaXZhdGUgdXBkYXRlczogVXBkYXRlRnVuY3Rpb25bXSA9IFtdO1xyXG5cclxuXHJcbiAgICBwdWJsaWMgZ2V0IHdpZHRoKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzLndpZHRoO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgaGVpZ2h0KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzLmhlaWdodDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHsgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlSW5Cb2R5KCk6IEFuaW1hdGlvbiB7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5wYXJlbnRFbGVtZW50LnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5tYXJnaW4gPSBcIjBcIjtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcclxuXHJcbiAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY2FudmFzKTtcclxuICAgICAgICBjYW52YXMuc3R5bGUud2lkdGggPSBcIjEwMCVcIlxyXG4gICAgICAgIGNhbnZhcy5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcclxuXHJcbiAgICAgICAgdmFyIGFuaW1hdGlvbiA9IG5ldyBBbmltYXRpb24oKTtcclxuICAgICAgICBhbmltYXRpb24uY2FudmFzID0gY2FudmFzO1xyXG4gICAgICAgIGFuaW1hdGlvbi5jdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuXHJcbiAgICAgICAgYW5pbWF0aW9uLnN0YXJ0QW5pbWF0aW9uKCk7XHJcbiAgICAgICAgYW5pbWF0aW9uLnJlc2l6ZSgpO1xyXG4gICAgICAgIHJldHVybiBhbmltYXRpb247XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlc2l6ZSgpIHtcclxuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHRoaXMuY2FudmFzLmNsaWVudFdpZHRoO1xyXG4gICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHRoaXMuY2FudmFzLmNsaWVudEhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhcnRBbmltYXRpb24oKSB7XHJcbiAgICAgICAgdGhpcy5sYXN0RnJhbWVUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICB0aGlzLmFuaW1hdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkQW5pbWF0aW9uID0gKGZ1bmM6IEFuaW1hdGlvbkZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25zLnB1c2goZnVuYyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZUFuaW1hdGlvbiA9IChmdW5jOiBBbmltYXRpb25GdW5jdGlvbikgPT4ge1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucy5zcGxpY2UodGhpcy5hbmltYXRpb25zLmluZGV4T2YoZnVuYyksIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRVcGRhdGUgPSAoZnVuYzogVXBkYXRlRnVuY3Rpb24pID0+IHtcclxuICAgICAgICB0aGlzLnVwZGF0ZXMucHVzaChmdW5jKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlVXBkYXRlID0gKGZ1bmM6IFVwZGF0ZUZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVzLnNwbGljZSh0aGlzLnVwZGF0ZXMuaW5kZXhPZihmdW5jKSwgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZEFuaW1hdGFibGUgPSAoYW5pbWF0YWJsZTogQW5pbWF0YWJsZSkgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkYXRlcy5wdXNoKGFuaW1hdGFibGUudXBkYXRlKTtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbnMucHVzaChhbmltYXRhYmxlLmRyYXcpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVBbmltYXRhYmxlID0gKGFuaW1hdGFibGU6IEFuaW1hdGFibGUpID0+IHtcclxuICAgICAgICB0aGlzLnVwZGF0ZXMuc3BsaWNlKHRoaXMudXBkYXRlcy5pbmRleE9mKGFuaW1hdGFibGUudXBkYXRlKSwgMSk7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25zLnNwbGljZSh0aGlzLmFuaW1hdGlvbnMuaW5kZXhPZihhbmltYXRhYmxlLmRyYXcpLCAxKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkVmlldyA9ICh2aWV3OiBWaWV3KSA9PiB7XHJcbiAgICAgICAgdGhpcy5hZGRBbmltYXRhYmxlKHZpZXcpO1xyXG4gICAgICAgIHZpZXcud2lkdGggPSB0aGlzLndpZHRoO1xyXG4gICAgICAgIHZpZXcuaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZVZpZXcgPSAodmlldzogVmlldykgPT4ge1xyXG4gICAgICAgIHRoaXMucmVtb3ZlQW5pbWF0YWJsZSh2aWV3KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGxhc3RGcmFtZVRpbWU6IG51bWJlcjtcclxuICAgIHByaXZhdGUgZnBzID0gNDA7XHJcbiAgICBwcml2YXRlIGZwc0ludGVydmFsID0gMTAwMCAvIHRoaXMuZnBzO1xyXG5cclxuICAgIHByaXZhdGUgYW5pbWF0ZSA9ICgpID0+IHtcclxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRlKTtcclxuXHJcbiAgICAgICAgdmFyIG5vdyA9IERhdGUubm93KCk7XHJcbiAgICAgICAgdmFyIGVsYXBzZWQgPSBub3cgLSB0aGlzLmxhc3RGcmFtZVRpbWU7XHJcblxyXG4gICAgICAgIGlmIChlbGFwc2VkID4gdGhpcy5mcHNJbnRlcnZhbCkge1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RGcmFtZVRpbWUgPSBub3c7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHVwZGF0ZSBvZiB0aGlzLnVwZGF0ZXMpIHtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZShlbGFwc2VkKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5jdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xyXG5cclxuICAgICAgICAgICAgZm9yIChjb25zdCBhbmltYXRlIG9mIHRoaXMuYW5pbWF0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgYW5pbWF0ZSh0aGlzLmN0eCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBBbmltYXRpb25GdW5jdGlvbiwgVXBkYXRlRnVuY3Rpb24sIEFuaW1hdGFibGUsIEFuaW1hdGlvbiB9IGZyb20gXCIuL2FuaW1hdGlvblwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFZpZXcgaW1wbGVtZW50cyBBbmltYXRhYmxlIHtcclxuICAgIHB1YmxpYyBhbmltYXRpb25zOiBBbmltYXRpb25GdW5jdGlvbltdID0gW107XHJcbiAgICBwdWJsaWMgdXBkYXRlczogVXBkYXRlRnVuY3Rpb25bXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBpc1Zpc2libGUgPSB0cnVlO1xyXG5cclxuICAgIHB1YmxpYyB3aWR0aDogbnVtYmVyO1xyXG4gICAgcHVibGljIGhlaWdodDogbnVtYmVyO1xyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUgPSAodGltZURpZmZNczogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgdXBkYXRlIG9mIHRoaXMudXBkYXRlcykge1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlKHRpbWVEaWZmTXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHVibGljIGRyYXcgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHdpZHRoPzogbnVtYmVyLCBoZWlnaHQ/OiBudW1iZXIpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5pc1Zpc2libGUpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBhbmltYXRlIG9mIHRoaXMuYW5pbWF0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgYW5pbWF0ZShjdHgsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzaG93ID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuaXNWaXNpYmxlID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaGlkZSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmlzVmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRBbmltYXRpb24gPSAoZnVuYzogQW5pbWF0aW9uRnVuY3Rpb24pID0+IHtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbnMucHVzaChmdW5jKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlQW5pbWF0aW9uID0gKGZ1bmM6IEFuaW1hdGlvbkZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25zLnNwbGljZSh0aGlzLmFuaW1hdGlvbnMuaW5kZXhPZihmdW5jKSwgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZFVwZGF0ZSA9IChmdW5jOiBVcGRhdGVGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkYXRlcy5wdXNoKGZ1bmMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVVcGRhdGUgPSAoZnVuYzogVXBkYXRlRnVuY3Rpb24pID0+IHtcclxuICAgICAgICB0aGlzLnVwZGF0ZXMuc3BsaWNlKHRoaXMudXBkYXRlcy5pbmRleE9mKGZ1bmMpLCAxKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkQW5pbWF0YWJsZSA9IChhbmltYXRhYmxlOiBBbmltYXRhYmxlKSA9PiB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVzLnB1c2goYW5pbWF0YWJsZS51cGRhdGUpO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucy5wdXNoKGFuaW1hdGFibGUuZHJhdyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZUFuaW1hdGFibGUgPSAoYW5pbWF0YWJsZTogQW5pbWF0YWJsZSkgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkYXRlcy5zcGxpY2UodGhpcy51cGRhdGVzLmluZGV4T2YoYW5pbWF0YWJsZS51cGRhdGUpLCAxKTtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbnMuc3BsaWNlKHRoaXMuYW5pbWF0aW9ucy5pbmRleE9mKGFuaW1hdGFibGUuZHJhdyksIDEpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQW5pbWF0YWJsZSB9IGZyb20gXCIuL2FuaW1hdGlvblwiO1xyXG5pbXBvcnQgeyBDb250cm9sbGVyIH0gZnJvbSBcIi4vY29udHJvbGxlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1lbnVCbGFkZSBpbXBsZW1lbnRzIEFuaW1hdGFibGUge1xyXG4gICAgcHJpdmF0ZSBhbmdsZTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBpc1Nob3duID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIGlzQWRkZWQgPSBmYWxzZTtcclxuICAgIHByaXZhdGUgYWRkVGltZXI6IG51bWJlcjtcclxuICAgIHByaXZhdGUgYWRkVGltZXJTZWNvbmRzID0gMS41O1xyXG4gICAgcHJpdmF0ZSByZW1vdmVUaW1lclNlY29uZHMgPSAyLjU7XHJcbiAgICBwdWJsaWMgeDogbnVtYmVyO1xyXG4gICAgcHVibGljIHk6IG51bWJlcjtcclxuICAgIHByaXZhdGUgcmVtZW1iZXJlZFggPSAwO1xyXG4gICAgcHJpdmF0ZSByZW1lbWJlcmVkWSA9IDA7XHJcblxyXG4gICAgcHVibGljIGxvY2F0aW9uID0gMDtcclxuXHJcbiAgICBwdWJsaWMgY29sb3I6IHN0cmluZztcclxuXHJcbiAgICBwdWJsaWMgZ2V0IGNvbnRyb2xsZXJOYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udHJvbGxlci5uYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBjb250cm9sbGVyOiBDb250cm9sbGVyLCBwcml2YXRlIG9uU2hvdzogKGJsYWRlOiBNZW51QmxhZGUpID0+IHZvaWQsIHByaXZhdGUgb25BZGQ6IChibGFkZTogTWVudUJsYWRlKSA9PiB2b2lkLCBwcml2YXRlIG9uUmVtb3ZlOiAoYmxhZGU6IE1lbnVCbGFkZSkgPT4gdm9pZCwgcHJpdmF0ZSBzdGFydDogKCkgPT4gdm9pZCkge1xyXG4gICAgICAgIHRoaXMuY29sb3IgPSBcImJsYWNrXCI7XHJcbiAgICAgICAgdGhpcy54ID0gMDtcclxuICAgICAgICB0aGlzLnkgPSAwO1xyXG4gICAgICAgIHRoaXMuYW5nbGUgPSAwO1xyXG4gICAgICAgIHRoaXMuYWRkVGltZXIgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUgPSAodGltZURpZmZNczogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNTaG93bikge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc0FkZGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFuZ2xlID0gdGhpcy5hbmdsZSArIE1hdGguUEkgLyA5O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hbmdsZSA9IHRoaXMuYW5nbGUgJSAoTWF0aC5QSSAqIDIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy54ID0gdGhpcy5yZW1lbWJlcmVkWCArIHRoaXMuY29udHJvbGxlci54QXhlcyAqIDI1O1xyXG4gICAgICAgICAgICAgICAgdGhpcy55ID0gdGhpcy5yZW1lbWJlcmVkWSArIHRoaXMuY29udHJvbGxlci55QXhlcyAqIDI1O1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbnRyb2xsZXIueUF4ZXMgPiAwLjMpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFRpbWVyICs9IHRoaXMuY29udHJvbGxlci55QXhlcyAqIHRpbWVEaWZmTXMgLyAxMDAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFkZFRpbWVyID49IHRoaXMucmVtb3ZlVGltZXJTZWNvbmRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkVGltZXIgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzU2hvd24gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0FkZGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25SZW1vdmUodGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNvbnRyb2xsZXIueUF4ZXMgPCAwLjEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFRpbWVyID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb250cm9sbGVyLnN0YXJ0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJzdGFydFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb250cm9sbGVyLnlBeGVzIDwgLTAuMykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkVGltZXIgLT0gdGhpcy5jb250cm9sbGVyLnlBeGVzICogdGltZURpZmZNcyAvIDEwMDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFkZFRpbWVyID49IHRoaXMuYWRkVGltZXJTZWNvbmRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25BZGQodGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNBZGRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkVGltZXIgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jb250cm9sbGVyLnlBeGVzID4gLTAuMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkVGltZXIgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNTaG93biA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25SZW1vdmUodGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jb250cm9sbGVyLnlBeGVzIDwgLTAuMykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vblNob3codGhpcyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzU2hvd24gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRUaW1lciAtPSB0aGlzLmNvbnRyb2xsZXIueUF4ZXMgKiB0aW1lRGlmZk1zIC8gMTAwMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHB1YmxpYyBkcmF3ID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB3aWR0aD86IG51bWJlciwgaGVpZ2h0PzogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMubG9jYXRpb24gPiAwKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMubG9jYXRpb24pO1xyXG5cclxuICAgICAgICAgICAgbGV0IGNvbG9yID0gXCJibGFja1wiO1xyXG4gICAgICAgICAgICBsZXQgc3RhcnRYID0gMDtcclxuICAgICAgICAgICAgbGV0IHN0YXJ0WSA9IDA7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5sb2NhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yID0gXCJyZWRcIjtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydFggPSB3aWR0aCAvIDM7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRZID0gKGhlaWdodCAtIDEwMCkgLyAzICsgMTAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yID0gXCJncmVlblwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0WCA9IHdpZHRoIC8gMyAqIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRZID0gKGhlaWdodCAtIDEwMCkgLyAzICsgMTAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yID0gXCJibHVlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRYID0gd2lkdGggLyAzO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0WSA9IChoZWlnaHQgLSAxMDApIC8gMyAqIDIgKyAxMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3IgPSBcIm9yYW5nZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0WCA9IHdpZHRoIC8gMyAqIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRZID0gKGhlaWdodCAtIDEwMCkgLyAzICogMiArIDEwMDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmNvbG9yID0gY29sb3I7XHJcbiAgICAgICAgICAgIHRoaXMueCA9IHN0YXJ0WDtcclxuICAgICAgICAgICAgdGhpcy55ID0gc3RhcnRZO1xyXG4gICAgICAgICAgICB0aGlzLnJlbWVtYmVyZWRYID0gc3RhcnRYO1xyXG4gICAgICAgICAgICB0aGlzLnJlbWVtYmVyZWRZID0gc3RhcnRZO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5sb2NhdGlvbiA9IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvcjtcclxuICAgICAgICBjdHguc2F2ZSgpO1xyXG4gICAgICAgIGN0eC50cmFuc2xhdGUodGhpcy54LCB0aGlzLnkpO1xyXG4gICAgICAgIGlmICh0aGlzLmlzQWRkZWQpIHtcclxuICAgICAgICAgICAgY3R4LnNhdmUoKTtcclxuICAgICAgICAgICAgY3R4LnJvdGF0ZSh0aGlzLmFuZ2xlKTtcclxuICAgICAgICAgICAgY3R4LmZpbGxSZWN0KC0yNSwgLTI1LCA1MCwgNTApO1xyXG4gICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNTaG93biAmJiAhdGhpcy5pc0FkZGVkKSB7XHJcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdCgtMjUsIDM1LCA1MCAvIHRoaXMuYWRkVGltZXJTZWNvbmRzICogdGhpcy5hZGRUaW1lciwgMTApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNTaG93biAmJiB0aGlzLmlzQWRkZWQgJiYgdGhpcy5hZGRUaW1lciA+IDApIHtcclxuICAgICAgICAgICAgY3R4LmZpbGxSZWN0KC0yNSwgMzUsIDUwIC0gNTAgLyB0aGlzLnJlbW92ZVRpbWVyU2Vjb25kcyAqIHRoaXMuYWRkVGltZXIsIDEwKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGN0eC5yZXN0b3JlKCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBDb250cm9sbGVyIH0gZnJvbSBcIi4vY29udHJvbGxlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEtleWJvYXJkQ29udHJvbHMgaW1wbGVtZW50cyBDb250cm9sbGVyIHtcclxuICAgIHB1YmxpYyB4QXhlczogbnVtYmVyO1xyXG4gICAgcHVibGljIHlBeGVzOiBudW1iZXI7XHJcblxyXG4gICAgcHVibGljIHN0YXJ0OiBib29sZWFuO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBuYW1lOiBzdHJpbmcsIGxlZnRLZXk6IG51bWJlciwgdXBLZXk6IG51bWJlciwgcmlnaHRLZXk6IG51bWJlciwgZG93bktleTogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy54QXhlcyA9IDA7XHJcbiAgICAgICAgdGhpcy55QXhlcyA9IDA7XHJcbiAgICAgICAgdGhpcy5zdGFydCA9IGZhbHNlO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IGxlZnRLZXkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMueEF4ZXMgPSAtMVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IHVwS2V5KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnlBeGVzID0gLTE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gcmlnaHRLZXkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMueEF4ZXMgPSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IGRvd25LZXkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMueUF4ZXMgPSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IDEzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSBsZWZ0S2V5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy54QXhlcyA9IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy54QXhlcyA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gdXBLZXkpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnlBeGVzID0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnlBeGVzID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSByaWdodEtleSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMueEF4ZXMgPSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy54QXhlcyA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gZG93bktleSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMueUF4ZXMgPSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy55QXhlcyA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gMTMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQ29udHJvbGxlciB9IGZyb20gXCIuL2NvbnRyb2xsZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lcGFkQ29udHJvbHMgaW1wbGVtZW50cyBDb250cm9sbGVyIHtcclxuICAgIHB1YmxpYyBnZXQgeEF4ZXMoKTogbnVtYmVyIHtcclxuICAgICAgICB2YXIgZ2FtZXBhZHMgPSBuYXZpZ2F0b3IuZ2V0R2FtZXBhZHMoKTtcclxuICAgICAgICB2YXIgZ3AgPSBnYW1lcGFkc1t0aGlzLmluZGV4XTtcclxuICAgICAgICByZXR1cm4gZ3AuYXhlc1swXTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IHlBeGVzKCk6IG51bWJlciB7XHJcbiAgICAgICAgdmFyIGdhbWVwYWRzID0gbmF2aWdhdG9yLmdldEdhbWVwYWRzKCk7XHJcbiAgICAgICAgdmFyIGdwID0gZ2FtZXBhZHNbdGhpcy5pbmRleF07XHJcbiAgICAgICAgcmV0dXJuIGdwLmF4ZXNbMV07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBzdGFydCgpOiBib29sZWFuIHtcclxuICAgICAgICB2YXIgZ2FtZXBhZHMgPSBuYXZpZ2F0b3IuZ2V0R2FtZXBhZHMoKTtcclxuICAgICAgICB2YXIgZ3AgPSBnYW1lcGFkc1t0aGlzLmluZGV4XTtcclxuICAgICAgICByZXR1cm4gZ3AuYnV0dG9uc1s5XS5wcmVzc2VkO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBuYW1lOiBzdHJpbmcsIHByaXZhdGUgaW5kZXg6IG51bWJlcikge1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgVmlldyB9IGZyb20gXCIuL3ZpZXdcIjtcclxuaW1wb3J0IHsgTWVudUJsYWRlIH0gZnJvbSBcIi4vbWVudUJsYWRlXCI7XHJcbmltcG9ydCB7IEtleWJvYXJkQ29udHJvbHMgfSBmcm9tIFwiLi9rZXlib2FyZENvbnRyb2xzXCI7XHJcbmltcG9ydCB7IEdhbWVwYWRDb250cm9scyB9IGZyb20gXCIuL2dhbWVwYWRDb250cm9sc1wiO1xyXG5pbXBvcnQgeyBDb250cm9sbGVyIH0gZnJvbSBcIi4vY29udHJvbGxlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1lbnVWaWV3IGV4dGVuZHMgVmlldyB7XHJcbiAgICBwcml2YXRlIG1lbnVCbGFkZXM6IE1lbnVCbGFkZVtdID0gW107XHJcbiAgICBwdWJsaWMgY29udHJvbGxlcnM6IENvbnRyb2xsZXJbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBnYW1lcGFkczogeyBbaWQ6IHN0cmluZ106IEdhbWVwYWQgfSA9IHt9O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgc3RhcnQ6ICgpID0+IHZvaWQpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHZhciBoYXZlRXZlbnRzID0gJ29uZ2FtZXBhZGNvbm5lY3RlZCcgaW4gd2luZG93O1xyXG4gICAgICAgIHRoaXMuYWRkQW5pbWF0aW9uKChjdHgsIHdpZHRoLCBoZWlnaHQpID0+IHtcclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwiYmxhY2tcIjtcclxuICAgICAgICAgICAgY3R4LnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XHJcbiAgICAgICAgICAgIGN0eC5mb250ID0gXCIyMnB4IHNhbnMtc2VyaWZcIjtcclxuICAgICAgICAgICAgY3R4LmZpbGxUZXh0KFwiWW91IGNhbiBjb250cm9sIGEgYmxhZGUgd2l0aCBhIGdhbWVwYWQsIHRoZSBhcnJvdyBrZXlzIG9yIFdBU0QuXCIsIHdpZHRoIC8gMiwgNTApO1xyXG4gICAgICAgICAgICBjdHguZmlsbFRleHQoXCJQcmVzcyB1cCB0byBqb2luIGFuZCBkb3duIHRvIGxlYXZlLlwiLCB3aWR0aCAvIDIsIDgwKTtcclxuICAgICAgICAgICAgY3R4LmZpbGxUZXh0KFwiUHJlc3MgZW50ZXIgb24ga2V5Ym9hcmQgb3Igc3RhcnQgb24gYSBjb250cm9sbGVyIHRvIHN0YXJ0LlwiLCB3aWR0aCAvIDIsIDExMCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIGJsYWRlMSA9IG5ldyBNZW51QmxhZGUobmV3IEtleWJvYXJkQ29udHJvbHMoXCJhcnJvd3NcIiwgMzcsIDM4LCAzOSwgNDApLCB0aGlzLnNob3dNZW51QmxhZGUsIHRoaXMuYWRkQ29udHJvbGxlciwgdGhpcy5yZW1vdmVDb250cm9sbGVyQW5kTWVudUJsYWRlLCBzdGFydCk7XHJcbiAgICAgICAgdGhpcy5hZGRBbmltYXRhYmxlKGJsYWRlMSk7XHJcbiAgICAgICAgdmFyIGJsYWRlMiA9IG5ldyBNZW51QmxhZGUobmV3IEtleWJvYXJkQ29udHJvbHMoXCJ3YXNkXCIsIDY1LCA4NywgNjgsIDgzKSwgdGhpcy5zaG93TWVudUJsYWRlLCB0aGlzLmFkZENvbnRyb2xsZXIsIHRoaXMucmVtb3ZlQ29udHJvbGxlckFuZE1lbnVCbGFkZSwgc3RhcnQpO1xyXG4gICAgICAgIHRoaXMuYWRkQW5pbWF0YWJsZShibGFkZTIpO1xyXG5cclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImdhbWVwYWRjb25uZWN0ZWRcIiwgdGhpcy5jb25uZWN0aGFuZGxlcik7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJnYW1lcGFkZGlzY29ubmVjdGVkXCIsIHRoaXMuZGlzY29ubmVjdGhhbmRsZXIpO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhcImhhdmVFdmVudHM6IFwiICsgaGF2ZUV2ZW50cyk7XHJcblxyXG4gICAgICAgIGlmICghaGF2ZUV2ZW50cykge1xyXG4gICAgICAgICAgICBzZXRJbnRlcnZhbCh0aGlzLnNjYW5nYW1lcGFkcywgNTAwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzaG93TWVudUJsYWRlID0gKG1lbnVCbGFkZTogTWVudUJsYWRlKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2cobWVudUJsYWRlLmNvbnRyb2xsZXJOYW1lKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMubWVudUJsYWRlcy5sZW5ndGggPD0gNCkge1xyXG4gICAgICAgICAgICB0aGlzLm1lbnVCbGFkZXMucHVzaChtZW51QmxhZGUpO1xyXG4gICAgICAgICAgICBtZW51QmxhZGUubG9jYXRpb24gPSB0aGlzLm1lbnVCbGFkZXMubGVuZ3RoO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU29ycnksIG9ubHkgNCBjb250cm9sbGVycyBzdXBwb3J0ZWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYWRkQ29udHJvbGxlciA9IChtZW51QmxhZGU6IE1lbnVCbGFkZSkgPT4ge1xyXG4gICAgICAgIHRoaXMuY29udHJvbGxlcnMucHVzaChtZW51QmxhZGUuY29udHJvbGxlcilcclxuICAgICAgICBjb25zb2xlLmxvZyhcImFkZGVkIGNvbnRyb2xsZXIgXCIgKyBtZW51QmxhZGUuY29udHJvbGxlck5hbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmVtb3ZlQ29udHJvbGxlckFuZE1lbnVCbGFkZSA9IChtZW51QmxhZGU6IE1lbnVCbGFkZSkgPT4ge1xyXG4gICAgICAgIHRoaXMubWVudUJsYWRlcy5zcGxpY2UodGhpcy5tZW51QmxhZGVzLmluZGV4T2YobWVudUJsYWRlKSwgMSk7XHJcbiAgICAgICAgdGhpcy5jb250cm9sbGVycy5zcGxpY2UodGhpcy5jb250cm9sbGVycy5pbmRleE9mKG1lbnVCbGFkZS5jb250cm9sbGVyKSwgMSk7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwicmVtb3ZlZCBjb250cm9sbGVyIFwiICsgbWVudUJsYWRlLmNvbnRyb2xsZXJOYW1lKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubWVudUJsYWRlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBtZW51QmxhZGUgPSB0aGlzLm1lbnVCbGFkZXNbaV07XHJcbiAgICAgICAgICAgIG1lbnVCbGFkZS5sb2NhdGlvbiA9IGkgKyAxO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25uZWN0aGFuZGxlciA9IChlOiBHYW1lcGFkRXZlbnQpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImdhbWVwYWQgY29ubmVjdGVkOiBcIiArIGUuZ2FtZXBhZC5pbmRleCArIFwiL1wiICsgZS5nYW1lcGFkLmlkKTtcclxuICAgICAgICB0aGlzLmFkZGdhbWVwYWQoZS5nYW1lcGFkKTtcclxuICAgIH1cclxuXHJcbiAgICBzY2FuZ2FtZXBhZHMgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJzY2FuZ2FtZXBhZHNcIik7XHJcblxyXG4gICAgICAgIHZhciBnYW1lcGFkcyA9IG5hdmlnYXRvci5nZXRHYW1lcGFkcyA/IG5hdmlnYXRvci5nZXRHYW1lcGFkcygpIDogW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnYW1lcGFkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZ2FtZXBhZHNbaV0pIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic2Nhbm5lZCBnYW1lcGFkOiBcIiArIGdhbWVwYWRzW2ldLmluZGV4ICsgXCIvXCIgKyBnYW1lcGFkc1tpXS5pZCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZ2FtZXBhZHNbaV0uaW5kZXggaW4gdGhpcy5nYW1lcGFkcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZXBhZHNbZ2FtZXBhZHNbaV0uaW5kZXhdID0gZ2FtZXBhZHNbaV07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkZ2FtZXBhZChnYW1lcGFkc1tpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZGlzY29ubmVjdGhhbmRsZXIgPSAoZTogR2FtZXBhZEV2ZW50KSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJnYW1lcGFkIGRpc2Nvbm5lY3RlZDogXCIgKyBlLmdhbWVwYWQuaW5kZXggKyBcIi9cIiArIGUuZ2FtZXBhZC5pZCk7XHJcbiAgICAgICAgdGhpcy5yZW1vdmVnYW1lcGFkKGUuZ2FtZXBhZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlZ2FtZXBhZCA9IChnYW1lcGFkOiBHYW1lcGFkKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJyZW1vdmluZyBnYW1lcGFkOiBcIiArIGdhbWVwYWQuaW5kZXggKyBcIi9cIiArIGdhbWVwYWQuaWQpO1xyXG4gICAgICAgIGRlbGV0ZSB0aGlzLmdhbWVwYWRzW2dhbWVwYWQuaW5kZXhdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5tZW51QmxhZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1lbnVCbGFkZSA9IHRoaXMubWVudUJsYWRlc1tpXTtcclxuICAgICAgICAgICAgaWYgKG1lbnVCbGFkZS5jb250cm9sbGVyTmFtZSA9PSBnYW1lcGFkLmluZGV4LnRvU3RyaW5nKCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubWVudUJsYWRlcy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhZGRnYW1lcGFkID0gKGdhbWVwYWQ6IEdhbWVwYWQpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImFkZGluZyBnYW1lcGFkOiBcIiArIGdhbWVwYWQuaW5kZXggKyBcIi9cIiArIGdhbWVwYWQuaWQpO1xyXG5cclxuICAgICAgICB0aGlzLmdhbWVwYWRzW2dhbWVwYWQuaW5kZXhdID0gZ2FtZXBhZDtcclxuICAgICAgICB2YXIgYmxhZGUgPSBuZXcgTWVudUJsYWRlKG5ldyBHYW1lcGFkQ29udHJvbHMoZ2FtZXBhZC5pbmRleC50b1N0cmluZygpLCBnYW1lcGFkLmluZGV4KSwgdGhpcy5zaG93TWVudUJsYWRlLCB0aGlzLmFkZENvbnRyb2xsZXIsIHRoaXMucmVtb3ZlQ29udHJvbGxlckFuZE1lbnVCbGFkZSwgdGhpcy5zdGFydCk7XHJcbiAgICAgICAgdGhpcy5hZGRBbmltYXRhYmxlKGJsYWRlKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEFuaW1hdGFibGUgfSBmcm9tIFwiLi9hbmltYXRpb25cIjtcclxuaW1wb3J0IHsgQ29udHJvbGxlciB9IGZyb20gXCIuL2NvbnRyb2xsZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBCbGFkZSBpbXBsZW1lbnRzIEFuaW1hdGFibGUge1xyXG4gICAgcHVibGljIHg6IG51bWJlcjtcclxuICAgIHB1YmxpYyB5OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgY29sb3I6IHN0cmluZ1xyXG4gICAgcHJpdmF0ZSB2eDogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSB2eTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBhbmdsZTogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgY29udHJvbGxlcjogQ29udHJvbGxlcikge1xyXG4gICAgICAgIHRoaXMueCA9IDA7XHJcbiAgICAgICAgdGhpcy55ID0gMDtcclxuICAgICAgICB0aGlzLmNvbG9yID0gXCJibGFja1wiO1xyXG4gICAgICAgIHRoaXMudnggPSAwO1xyXG4gICAgICAgIHRoaXMudnkgPSAwO1xyXG4gICAgICAgIHRoaXMuYW5nbGUgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUgPSAodGltZURpZmZNczogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgdGhpcy5hbmdsZSA9IHRoaXMuYW5nbGUgKyBNYXRoLlBJIC8gOTtcclxuICAgICAgICB0aGlzLmFuZ2xlID0gdGhpcy5hbmdsZSAlIChNYXRoLlBJICogMik7XHJcbiAgICAgICAgdGhpcy52eCArPSB0aGlzLmNvbnRyb2xsZXIueEF4ZXMgLyA0MDA7XHJcbiAgICAgICAgdGhpcy52eSArPSB0aGlzLmNvbnRyb2xsZXIueUF4ZXMgLyA0MDA7XHJcblxyXG4gICAgICAgIHRoaXMueCArPSB0aGlzLnZ4ICogdGltZURpZmZNcztcclxuICAgICAgICB0aGlzLnkgKz0gdGhpcy52eSAqIHRpbWVEaWZmTXM7XHJcblxyXG4gICAgfVxyXG4gICAgcHVibGljIGRyYXcgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHdpZHRoPzogbnVtYmVyLCBoZWlnaHQ/OiBudW1iZXIpID0+IHtcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvcjtcclxuICAgICAgICBjdHguc2F2ZSgpO1xyXG5cclxuICAgICAgICBjdHgudHJhbnNsYXRlKHRoaXMueCwgdGhpcy55KTtcclxuICAgICAgICBjdHgucm90YXRlKHRoaXMuYW5nbGUpO1xyXG4gICAgICAgIGN0eC5maWxsUmVjdCgtMjUsIC0yNSwgNTAsIDUwKTtcclxuICAgICAgICBjdHgucmVzdG9yZSgpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQ29udHJvbGxlciB9IGZyb20gXCIuL2NvbnRyb2xsZXJcIjtcclxuaW1wb3J0IHsgVmlldyB9IGZyb20gXCIuL3ZpZXdcIjtcclxuaW1wb3J0IHsgQmxhZGUgfSBmcm9tIFwiLi9ibGFkZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWVWaWV3IGV4dGVuZHMgVmlldyB7XHJcbiAgICBwdWJsaWMgc3RhcnQoY29udHJvbGxlcnM6IENvbnRyb2xsZXJbXSkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29udHJvbGxlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgY29udHJvbGxlciA9IGNvbnRyb2xsZXJzW2ldO1xyXG4gICAgICAgICAgICB2YXIgYmxhZGUgPSBuZXcgQmxhZGUoY29udHJvbGxlcik7XHJcbiAgICAgICAgICAgIGxldCBjb2xvciA9IFwiYmxhY2tcIjtcclxuICAgICAgICAgICAgbGV0IHN0YXJ0WCA9IDA7XHJcbiAgICAgICAgICAgIGxldCBzdGFydFkgPSAwO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGkgKyAxKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3IgPSBcInJlZFwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0WCA9IHRoaXMud2lkdGggLyAzO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0WSA9IHRoaXMuaGVpZ2h0IC8gMztcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICBjb2xvciA9IFwiZ3JlZW5cIjtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydFggPSB0aGlzLndpZHRoIC8gMyAqIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRZID0gdGhpcy5oZWlnaHQgLyAzO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yID0gXCJibHVlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRYID0gdGhpcy53aWR0aCAvIDM7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRZID0gdGhpcy5oZWlnaHQgLyAzICogMjtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgICAgICBjb2xvciA9IFwib3JhbmdlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRYID0gdGhpcy53aWR0aCAvIDMgKiAyO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0WSA9IHRoaXMuaGVpZ2h0IC8gMyAqIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYmxhZGUuY29sb3IgPSBjb2xvcjtcclxuICAgICAgICAgICAgYmxhZGUueCA9IHN0YXJ0WDtcclxuICAgICAgICAgICAgYmxhZGUueSA9IHN0YXJ0WTtcclxuICAgICAgICAgICAgdGhpcy5hZGRBbmltYXRhYmxlKGJsYWRlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBBbmltYXRpb24gfSBmcm9tIFwiLi9hbmltYXRpb25cIjtcclxuaW1wb3J0IHsgTWVudVZpZXcgfSBmcm9tIFwiLi9tZW51Vmlld1wiO1xyXG5pbXBvcnQgeyBHYW1lVmlldyB9IGZyb20gXCIuL2dhbWVWaWV3XCI7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEFwcCB7XHJcbiAgICBhbmltYXRpb246IEFuaW1hdGlvbjtcclxuICAgIG1lbnU6IE1lbnVWaWV3O1xyXG4gICAgZ2FtZTogR2FtZVZpZXc7XHJcblxyXG4gICAgcHVibGljIHJ1bigpIHtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbiA9IEFuaW1hdGlvbi5jcmVhdGVJbkJvZHkoKTtcclxuICAgICAgICB0aGlzLm1lbnUgPSBuZXcgTWVudVZpZXcodGhpcy5zdGFydCk7XHJcbiAgICAgICAgdGhpcy5nYW1lID0gbmV3IEdhbWVWaWV3KCk7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb24uYWRkVmlldyh0aGlzLm1lbnUpO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uLmFkZFZpZXcodGhpcy5nYW1lKTtcclxuICAgICAgICB0aGlzLmdhbWUuaGlkZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhcnQgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5tZW51LmhpZGUoKTtcclxuICAgICAgICB0aGlzLmdhbWUuc2hvdygpO1xyXG4gICAgICAgIHRoaXMuZ2FtZS5zdGFydCh0aGlzLm1lbnUuY29udHJvbGxlcnMpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4vYXBwXCI7XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgbWFpbiwgZmFsc2UpO1xyXG5cclxuZnVuY3Rpb24gbWFpbigpIHtcclxuICBjb25zdCBhcHAgPSBuZXcgQXBwKCk7XHJcbiAgYXBwLnJ1bigpO1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==