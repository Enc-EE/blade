!function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var o=function(){function e(){var e=this;this.animations=[],this.updates=[],this.addAnimation=function(t){e.animations.push(t)},this.removeAnimation=function(t){e.animations.splice(e.animations.indexOf(t),1)},this.addUpdate=function(t){e.updates.push(t)},this.removeUpdate=function(t){e.updates.splice(e.updates.indexOf(t),1)},this.addAnimatable=function(t){e.updates.push(t.update),e.animations.push(t.draw)},this.removeAnimatable=function(t){e.updates.splice(e.updates.indexOf(t.update),1),e.animations.splice(e.animations.indexOf(t.draw),1)},this.addView=function(t){e.addAnimatable(t),t.width=e.width,t.height=e.height},this.removeView=function(t){e.removeAnimatable(t)},this.fps=40,this.fpsInterval=1e3/this.fps,this.animate=function(){requestAnimationFrame(e.animate);var t=Date.now(),n=t-e.lastFrameTime;if(n>e.fpsInterval){e.lastFrameTime=t;for(var o=n/1e3,a=0,i=e.updates;a<i.length;a++){(0,i[a])(o)}e.ctx.clearRect(0,0,e.canvas.width,e.canvas.height);for(var r=0,s=e.animations;r<s.length;r++){(0,s[r])(e.ctx,e.canvas.width,e.canvas.height)}}}}return Object.defineProperty(e.prototype,"width",{get:function(){return this.canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.canvas.height},enumerable:!0,configurable:!0}),e.createInBody=function(){document.body.parentElement.style.height="100%",document.body.style.height="100%",document.body.style.margin="0",document.body.style.overflow="hidden";var t=document.createElement("canvas");document.body.appendChild(t),t.style.width="100%",t.style.height="100%";var n=new e;return n.canvas=t,n.ctx=t.getContext("2d"),n.startAnimation(),n.resize(),n},e.prototype.resize=function(){this.canvas.width=this.canvas.clientWidth,this.canvas.height=this.canvas.clientHeight},e.prototype.startAnimation=function(){this.lastFrameTime=Date.now(),this.animate()},e}(),a=function(){return function(){var e=this;this.animations=[],this.updates=[],this.isVisible=!0,this.update=function(t){if(e.isVisible)for(var n=0,o=e.updates;n<o.length;n++)(0,o[n])(t)},this.draw=function(t,n,o){if(e.isVisible)for(var a=0,i=e.animations;a<i.length;a++)(0,i[a])(t,n,o)},this.show=function(){e.isVisible=!0},this.hide=function(){e.isVisible=!1},this.addAnimation=function(t){e.animations.push(t)},this.removeAnimation=function(t){e.animations.splice(e.animations.indexOf(t),1)},this.addUpdate=function(t){e.updates.push(t)},this.removeUpdate=function(t){e.updates.splice(e.updates.indexOf(t),1)},this.addAnimatable=function(t){e.updates.push(t.update),e.animations.push(t.draw)},this.removeAnimatable=function(t){e.updates.splice(e.updates.indexOf(t.update),1),e.animations.splice(e.animations.indexOf(t.draw),1)}}}(),i=function(){function e(e,t,n,o,a){var i=this;this.controller=e,this.onShow=t,this.onAdd=n,this.onRemove=o,this.start=a,this.isShown=!1,this.isAdded=!1,this.addTimerSeconds=1.5,this.removeTimerSeconds=2.5,this.rememberedX=0,this.rememberedY=0,this.location=0,this.update=function(e){i.isShown?i.isAdded?(i.angle=i.angle+Math.PI/9,i.angle=i.angle%(2*Math.PI),i.x=i.rememberedX+25*i.controller.xAxes,i.y=i.rememberedY+25*i.controller.yAxes,i.controller.yAxes>.3?(i.addTimer+=i.controller.yAxes*e,i.addTimer>=i.removeTimerSeconds&&(i.addTimer=0,i.isShown=!1,i.isAdded=!1,i.onRemove(i))):i.controller.yAxes<.1&&(i.addTimer=0),i.controller.start&&(console.log("start"),i.start())):i.controller.yAxes<-.3?(i.addTimer-=i.controller.yAxes*e,i.addTimer>=i.addTimerSeconds&&(i.onAdd(i),i.isAdded=!0,i.addTimer=0)):i.controller.yAxes>-.1&&(i.addTimer=0,i.isShown=!1,i.onRemove(i)):i.controller.yAxes<-.3&&(i.onShow(i),i.isShown=!0,i.addTimer-=i.controller.yAxes*e)},this.draw=function(e,t,n){if(i.location>0){console.log(i.location);var o="black",a=0,r=0;switch(i.location){case 1:o="red",a=t/3,r=(n-100)/3+100;break;case 2:o="green",a=t/3*2,r=(n-100)/3+100;break;case 3:o="blue",a=t/3,r=(n-100)/3*2+100;break;case 4:o="orange",a=t/3*2,r=(n-100)/3*2+100}i.color=o,i.x=a,i.y=r,i.rememberedX=a,i.rememberedY=r,i.location=0}e.fillStyle=i.color,e.save(),e.translate(i.x,i.y),i.isAdded&&(e.save(),e.rotate(i.angle),e.fillRect(-25,-25,50,50),e.restore()),i.isShown&&!i.isAdded&&e.fillRect(-25,35,50/i.addTimerSeconds*i.addTimer,10),i.isShown&&i.isAdded&&i.addTimer>0&&e.fillRect(-25,35,50-50/i.removeTimerSeconds*i.addTimer,10),e.restore()},this.color="black",this.x=0,this.y=0,this.angle=0,this.addTimer=0}return Object.defineProperty(e.prototype,"controllerName",{get:function(){return this.controller.name},enumerable:!0,configurable:!0}),e}(),r=function(){return function(e,t,n,o,a){var i=this;this.name=e,this.xAxes=0,this.yAxes=0,this.start=!1,document.addEventListener("keydown",function(e){e.keyCode==t&&(i.xAxes=-1),e.keyCode==n&&(i.yAxes=-1),e.keyCode==o&&(i.xAxes=1),e.keyCode==a&&(i.yAxes=1),13==e.keyCode&&(i.start=!0)}),document.addEventListener("keyup",function(e){e.keyCode==t&&(i.xAxes=-1)&&(i.xAxes=0),e.keyCode==n&&(i.yAxes=-1)&&(i.yAxes=0),e.keyCode==o&&(i.xAxes=1)&&(i.xAxes=0),e.keyCode==a&&(i.yAxes=1)&&(i.yAxes=0),13==e.keyCode&&(i.start=!1)})}}(),s=function(){function e(e,t){this.name=e,this.index=t}return Object.defineProperty(e.prototype,"xAxes",{get:function(){return navigator.getGamepads()[this.index].axes[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yAxes",{get:function(){return navigator.getGamepads()[this.index].axes[1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return navigator.getGamepads()[this.index].buttons[9].pressed},enumerable:!0,configurable:!0}),e}(),d=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),l=function(e){function t(t){var n=e.call(this)||this;n.start=t,n.menuBlades=[],n.controllers=[],n.gamepads={},n.showMenuBlade=function(e){console.log(e.controllerName),n.menuBlades.length<=4?(n.menuBlades.push(e),e.location=n.menuBlades.length):console.log("Sorry, only 4 controllers supported")},n.addController=function(e){n.controllers.push(e.controller),console.log("added controller "+e.controllerName)},n.removeControllerAndMenuBlade=function(e){n.menuBlades.splice(n.menuBlades.indexOf(e),1),n.controllers.splice(n.controllers.indexOf(e.controller),1),console.log("removed controller "+e.controllerName);for(var t=0;t<n.menuBlades.length;t++){n.menuBlades[t].location=t+1}},n.connecthandler=function(e){console.log("gamepad connected: "+e.gamepad.index+"/"+e.gamepad.id),n.addgamepad(e.gamepad)},n.scangamepads=function(){console.log("scangamepads");for(var e=navigator.getGamepads?navigator.getGamepads():[],t=0;t<e.length;t++)e[t]&&(console.log("scanned gamepad: "+e[t].index+"/"+e[t].id),e[t].index in n.gamepads?n.gamepads[e[t].index]=e[t]:n.addgamepad(e[t]))},n.disconnecthandler=function(e){console.log("gamepad disconnected: "+e.gamepad.index+"/"+e.gamepad.id),n.removegamepad(e.gamepad)},n.removegamepad=function(e){console.log("removing gamepad: "+e.index+"/"+e.id),delete n.gamepads[e.index];for(var t=0;t<n.menuBlades.length;t++){if(n.menuBlades[t].controllerName==e.index.toString()){n.menuBlades.splice(t,1);break}}},n.addgamepad=function(e){console.log("adding gamepad: "+e.index+"/"+e.id),n.gamepads[e.index]=e;var t=new i(new s(e.index.toString(),e.index),n.showMenuBlade,n.addController,n.removeControllerAndMenuBlade,n.start);n.addAnimatable(t)};var o="ongamepadconnected"in window;n.addAnimation(function(e,t,n){e.fillStyle="black",e.textAlign="center",e.font="22px sans-serif",e.fillText("You can control a blade with a gamepad, the arrow keys or WASD.",t/2,50),e.fillText("Press up to join and down to leave.",t/2,80),e.fillText("Press enter on keyboard or start on a controller to start.",t/2,110)});var a=new i(new r("arrows",37,38,39,40),n.showMenuBlade,n.addController,n.removeControllerAndMenuBlade,t);n.addAnimatable(a);var d=new i(new r("wasd",65,87,68,83),n.showMenuBlade,n.addController,n.removeControllerAndMenuBlade,t);return n.addAnimatable(d),window.addEventListener("gamepadconnected",n.connecthandler),window.addEventListener("gamepaddisconnected",n.disconnecthandler),console.log("haveEvents: "+o),o||setInterval(n.scangamepads,500),n}return d(t,e),t}(a),c=function(){return function(e){var t=this;this.controller=e,this.update=function(e){t.angle=t.angle+Math.PI/9,t.angle=t.angle%(2*Math.PI);var n=.5*t.A*t.cw*t.p*t.vx*Math.abs(t.vx),o=.5*t.A*t.cw*t.p*t.vy*Math.abs(t.vy),a=t.f*t.controller.xAxes-n/t.m,i=t.f*t.controller.yAxes-o/t.m;t.vx+=a*e,t.vy+=i*e,t.x+=t.vx*e,t.y+=t.vy*e},this.draw=function(e,n,o){e.fillStyle=t.color,e.save(),e.translate(t.x,t.y),e.rotate(t.angle);var a=Math.sqrt(t.r*t.r/2);e.fillRect(-a,-a,2*a,2*a),e.restore()},this.x=0,this.y=0,this.color="black",this.vx=0,this.vy=0,this.angle=0,this.m=.1,this.f=463,this.r=25,this.A=.01,this.cw=.05,this.p=1}}(),h=function(){function e(e,t,n){var o=this;this.blades=e,this.borderRight=t,this.borderBottom=n,this.update=function(e){for(var t=0;t<o.blades.length;t++){var n=o.blades[t];n.x-n.r<0?(n.vx=-n.vx,n.x=n.r-n.x+n.r):n.x+n.r>o.borderRight&&(n.vx=-n.vx,n.x=o.borderRight-(n.x+n.r-o.borderRight)-n.r),n.y-n.r<0?(n.vy=-n.vy,n.y=n.r-n.y+n.r):n.y+n.r>o.borderBottom&&(n.vy=-n.vy,n.y=o.borderBottom-(n.y+n.r-o.borderBottom)-n.r);for(var a=0;a<o.blades.length;a++)if(!(a<=t)){var i=o.blades[a],r=i.x-n.x,s=i.y-n.y,d=Math.sqrt(r*r+s*s);d<=2*n.r&&(console.log("collision"),o.positionCorrection(d,n,r,s,i))}}},this.draw=function(e,t,n){}}return e.prototype.collision=function(e,t,n,o){var a=e/t;if(t>=0){if(a<1&&a>-1){var i=Math.atan(a);console.log(i);var r=Math.atan(n.vy/n.vx),s=Math.sqrt(n.vx*n.vx+n.vy*n.vy),d=(Math.atan(o.vy/o.vx),Math.sqrt(o.vx*o.vx+o.vy*o.vy),0);d=r>i?i-(r-i):i+(i-r);var l=-Math.cos(d)*s,c=-Math.sin(d)*s;n.vx=l,n.vy=c}}else if(a<1&&a>-1){i=-Math.atan(a);console.log(i);r=Math.atan(n.vy/n.vx),s=Math.sqrt(n.vx*n.vx+n.vy*n.vy),Math.atan(o.vy/o.vx),Math.sqrt(o.vx*o.vx+o.vy*o.vy),d=0;d=r>i?i-(r-i):i+(i-r);l=-Math.cos(d)*s,c=Math.sin(d)*s;n.vx=l,n.vy=c}},e.prototype.positionCorrection=function(e,t,n,o,a){var i=(e-2*t.r)/2/e,r=i*n,s=i*o;t.x+=r,t.y+=s,a.x-=r,a.y-=s},e}(),u=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.started=!1,t.blades=[],t}return u(t,e),t.prototype.start=function(e){if(!this.started){this.started=!0,console.log(e);for(var t=0;t<e.length;t++){var n=e[t],o=new c(n),a="black",i=0,r=0;switch(t+1){case 1:a="red",i=this.width/3,r=this.height/3;break;case 2:a="green",i=this.width/3*2,r=this.height/3;break;case 3:a="blue",i=this.width/3,r=this.height/3*2;break;case 4:a="orange",i=this.width/3*2,r=this.height/3*2}o.color=a,o.x=i,o.y=r,this.blades.push(o),this.addAnimatable(o)}this.addAnimatable(new h(this.blades,this.width,this.height))}},t}(a),f=function(){function e(){var e=this;this.start=function(){e.menu.hide(),e.game.show(),e.game.start(e.menu.controllers)}}return e.prototype.run=function(){this.animation=o.createInBody(),this.menu=new l(this.start),this.game=new m,this.animation.addView(this.menu),this.animation.addView(this.game),this.game.hide()},e}();document.addEventListener("DOMContentLoaded",function(){(new f).run()},!1)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FuaW1hdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWVudUJsYWRlLnRzIiwid2VicGFjazovLy8uL3NyYy9rZXlib2FyZENvbnRyb2xzLnRzIiwid2VicGFjazovLy8uL3NyYy9nYW1lcGFkQ29udHJvbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21lbnVWaWV3LnRzIiwid2VicGFjazovLy8uL3NyYy9ibGFkZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29sbGlkZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWVWaWV3LnRzIiwid2VicGFjazovLy8uL3NyYy9hcHAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiQW5pbWF0aW9uIiwiX3RoaXMiLCJ0aGlzIiwiYW5pbWF0aW9ucyIsInVwZGF0ZXMiLCJhZGRBbmltYXRpb24iLCJmdW5jIiwicHVzaCIsInJlbW92ZUFuaW1hdGlvbiIsInNwbGljZSIsImluZGV4T2YiLCJhZGRVcGRhdGUiLCJyZW1vdmVVcGRhdGUiLCJhZGRBbmltYXRhYmxlIiwiYW5pbWF0YWJsZSIsInVwZGF0ZSIsImRyYXciLCJyZW1vdmVBbmltYXRhYmxlIiwiYWRkVmlldyIsInZpZXciLCJ3aWR0aCIsImhlaWdodCIsInJlbW92ZVZpZXciLCJmcHMiLCJmcHNJbnRlcnZhbCIsImFuaW1hdGUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJub3ciLCJEYXRlIiwiZWxhcHNlZCIsImxhc3RGcmFtZVRpbWUiLCJ0aW1lRGlmZiIsIl9pIiwiX2EiLCJsZW5ndGgiLCJjdHgiLCJjbGVhclJlY3QiLCJjYW52YXMiLCJfYiIsIl9jIiwiY3JlYXRlSW5Cb2R5IiwiZG9jdW1lbnQiLCJib2R5IiwicGFyZW50RWxlbWVudCIsInN0eWxlIiwibWFyZ2luIiwib3ZlcmZsb3ciLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJhbmltYXRpb24iLCJnZXRDb250ZXh0Iiwic3RhcnRBbmltYXRpb24iLCJyZXNpemUiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsIlZpZXciLCJpc1Zpc2libGUiLCJzaG93IiwiaGlkZSIsIk1lbnVCbGFkZSIsImNvbnRyb2xsZXIiLCJvblNob3ciLCJvbkFkZCIsIm9uUmVtb3ZlIiwic3RhcnQiLCJpc1Nob3duIiwiaXNBZGRlZCIsImFkZFRpbWVyU2Vjb25kcyIsInJlbW92ZVRpbWVyU2Vjb25kcyIsInJlbWVtYmVyZWRYIiwicmVtZW1iZXJlZFkiLCJsb2NhdGlvbiIsImFuZ2xlIiwiTWF0aCIsIlBJIiwieCIsInhBeGVzIiwieSIsInlBeGVzIiwiYWRkVGltZXIiLCJjb25zb2xlIiwibG9nIiwiY29sb3IiLCJzdGFydFgiLCJzdGFydFkiLCJmaWxsU3R5bGUiLCJzYXZlIiwidHJhbnNsYXRlIiwicm90YXRlIiwiZmlsbFJlY3QiLCJyZXN0b3JlIiwiS2V5Ym9hcmRDb250cm9scyIsImxlZnRLZXkiLCJ1cEtleSIsInJpZ2h0S2V5IiwiZG93bktleSIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsImtleUNvZGUiLCJHYW1lcGFkQ29udHJvbHMiLCJpbmRleCIsIm5hdmlnYXRvciIsImdldEdhbWVwYWRzIiwiYXhlcyIsImJ1dHRvbnMiLCJwcmVzc2VkIiwibWVudVZpZXdfTWVudVZpZXciLCJfc3VwZXIiLCJNZW51VmlldyIsIm1lbnVCbGFkZXMiLCJjb250cm9sbGVycyIsImdhbWVwYWRzIiwic2hvd01lbnVCbGFkZSIsIm1lbnVCbGFkZSIsImNvbnRyb2xsZXJOYW1lIiwiYWRkQ29udHJvbGxlciIsInJlbW92ZUNvbnRyb2xsZXJBbmRNZW51QmxhZGUiLCJjb25uZWN0aGFuZGxlciIsImUiLCJnYW1lcGFkIiwiaWQiLCJhZGRnYW1lcGFkIiwic2NhbmdhbWVwYWRzIiwiZGlzY29ubmVjdGhhbmRsZXIiLCJyZW1vdmVnYW1lcGFkIiwidG9TdHJpbmciLCJibGFkZSIsImhhdmVFdmVudHMiLCJ3aW5kb3ciLCJ0ZXh0QWxpZ24iLCJmb250IiwiZmlsbFRleHQiLCJibGFkZTEiLCJibGFkZTIiLCJzZXRJbnRlcnZhbCIsIl9fZXh0ZW5kcyIsIkJsYWRlIiwiZkZyaWN0aW9uWCIsIkEiLCJjdyIsInZ4IiwiYWJzIiwiZkZyaWN0aW9uWSIsInZ5IiwiYXgiLCJmIiwiYXkiLCJjdWJlU2l6ZSIsInNxcnQiLCJDb2xsaWRlciIsImJsYWRlcyIsImJvcmRlclJpZ2h0IiwiYm9yZGVyQm90dG9tIiwiaiIsImRpc3RhbmNlWCIsImRpc3RhbmNlWSIsImRpc3RhbmNlIiwicG9zaXRpb25Db3JyZWN0aW9uIiwiY29sbGlzaW9uIiwiZGlzdGFuY2VSZWxhdGlvbiIsImNvbGxpc2lvbkFuZ2xlIiwiYXRhbiIsInZBbmdsZUJsYWRlMSIsInZMZW5ndGhCbGFkZTEiLCJuZXdBbmdsZTEiLCJ2eEJsYWRlMU5ldyIsImNvcyIsInZ5QmxhZGUxTmV3Iiwic2luIiwiY29ycmVjdGlvbkZhY3RvciIsImNvcnJlY3Rpb254IiwiY29ycmVjdGlvbnkiLCJnYW1lVmlld19HYW1lVmlldyIsIkdhbWVWaWV3IiwiYXBwbHkiLCJhcmd1bWVudHMiLCJzdGFydGVkIiwiZ2FtZVZpZXdfZXh0ZW5k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QUEsSUFBQWxMLEVBQUFDLEtBY1lBLEtBQUE4RCxNQUFRLFdBQ1ovRCxFQUFLbUwsS0FBSzFILE9BQ1Z6RCxFQUFLb0wsS0FBSzVILE9BQ1Z4RCxFQUFLb0wsS0FBS3JILE1BQU0vRCxFQUFLbUwsS0FBS3RFLGNBRWxDLE9BZFdxRSxFQUFBdkwsVUFBQTBMLElBQVAsV0FDSXBMLEtBQUsrQyxVQUFZakQsRUFBVXdDLGVBQzNCdEMsS0FBS2tMLEtBQU8sSUFBSTFFLEVBQVN4RyxLQUFLOEQsT0FDOUI5RCxLQUFLbUwsS0FBTyxJQUFJVCxFQUNoQjFLLEtBQUsrQyxVQUFVL0IsUUFBUWhCLEtBQUtrTCxNQUM1QmxMLEtBQUsrQyxVQUFVL0IsUUFBUWhCLEtBQUttTCxNQUM1Qm5MLEtBQUttTCxLQUFLM0gsUUFRbEJ5SCxFQW5CQSxHQ0hBMUksU0FBU3VELGlCQUFpQixtQkFFMUIsWUFDYyxJQUFJa0YsR0FDWkksUUFKOEMiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImltcG9ydCB7IFZpZXcgfSBmcm9tIFwiLi92aWV3XCI7XHJcblxyXG5leHBvcnQgdHlwZSBBbmltYXRpb25GdW5jdGlvbiA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgd2lkdGg/OiBudW1iZXIsIGhlaWdodD86IG51bWJlcikgPT4gdm9pZDtcclxuZXhwb3J0IHR5cGUgVXBkYXRlRnVuY3Rpb24gPSAodGltZURpZmY6IG51bWJlcikgPT4gdm9pZDtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQW5pbWF0YWJsZSB7XHJcbiAgICB1cGRhdGU6IFVwZGF0ZUZ1bmN0aW9uO1xyXG4gICAgZHJhdzogQW5pbWF0aW9uRnVuY3Rpb247XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBbmltYXRpb24ge1xyXG4gICAgcHJpdmF0ZSBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuICAgIHByaXZhdGUgYW5pbWF0aW9uczogQW5pbWF0aW9uRnVuY3Rpb25bXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSB1cGRhdGVzOiBVcGRhdGVGdW5jdGlvbltdID0gW107XHJcblxyXG5cclxuICAgIHB1YmxpYyBnZXQgd2lkdGgoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXMud2lkdGg7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBoZWlnaHQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXMuaGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCkgeyB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGVJbkJvZHkoKTogQW5pbWF0aW9uIHtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnBhcmVudEVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm1hcmdpbiA9IFwiMFwiO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xyXG5cclxuICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjYW52YXMpO1xyXG4gICAgICAgIGNhbnZhcy5zdHlsZS53aWR0aCA9IFwiMTAwJVwiXHJcbiAgICAgICAgY2FudmFzLnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiO1xyXG5cclxuICAgICAgICB2YXIgYW5pbWF0aW9uID0gbmV3IEFuaW1hdGlvbigpO1xyXG4gICAgICAgIGFuaW1hdGlvbi5jYW52YXMgPSBjYW52YXM7XHJcbiAgICAgICAgYW5pbWF0aW9uLmN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG5cclxuICAgICAgICBhbmltYXRpb24uc3RhcnRBbmltYXRpb24oKTtcclxuICAgICAgICBhbmltYXRpb24ucmVzaXplKCk7XHJcbiAgICAgICAgcmV0dXJuIGFuaW1hdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVzaXplKCkge1xyXG4gICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gdGhpcy5jYW52YXMuY2xpZW50V2lkdGg7XHJcbiAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdGhpcy5jYW52YXMuY2xpZW50SGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGFydEFuaW1hdGlvbigpIHtcclxuICAgICAgICB0aGlzLmxhc3RGcmFtZVRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRBbmltYXRpb24gPSAoZnVuYzogQW5pbWF0aW9uRnVuY3Rpb24pID0+IHtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbnMucHVzaChmdW5jKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlQW5pbWF0aW9uID0gKGZ1bmM6IEFuaW1hdGlvbkZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25zLnNwbGljZSh0aGlzLmFuaW1hdGlvbnMuaW5kZXhPZihmdW5jKSwgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZFVwZGF0ZSA9IChmdW5jOiBVcGRhdGVGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkYXRlcy5wdXNoKGZ1bmMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVVcGRhdGUgPSAoZnVuYzogVXBkYXRlRnVuY3Rpb24pID0+IHtcclxuICAgICAgICB0aGlzLnVwZGF0ZXMuc3BsaWNlKHRoaXMudXBkYXRlcy5pbmRleE9mKGZ1bmMpLCAxKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkQW5pbWF0YWJsZSA9IChhbmltYXRhYmxlOiBBbmltYXRhYmxlKSA9PiB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVzLnB1c2goYW5pbWF0YWJsZS51cGRhdGUpO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucy5wdXNoKGFuaW1hdGFibGUuZHJhdyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZUFuaW1hdGFibGUgPSAoYW5pbWF0YWJsZTogQW5pbWF0YWJsZSkgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkYXRlcy5zcGxpY2UodGhpcy51cGRhdGVzLmluZGV4T2YoYW5pbWF0YWJsZS51cGRhdGUpLCAxKTtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbnMuc3BsaWNlKHRoaXMuYW5pbWF0aW9ucy5pbmRleE9mKGFuaW1hdGFibGUuZHJhdyksIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRWaWV3ID0gKHZpZXc6IFZpZXcpID0+IHtcclxuICAgICAgICB0aGlzLmFkZEFuaW1hdGFibGUodmlldyk7XHJcbiAgICAgICAgdmlldy53aWR0aCA9IHRoaXMud2lkdGg7XHJcbiAgICAgICAgdmlldy5oZWlnaHQgPSB0aGlzLmhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlVmlldyA9ICh2aWV3OiBWaWV3KSA9PiB7XHJcbiAgICAgICAgdGhpcy5yZW1vdmVBbmltYXRhYmxlKHZpZXcpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbGFzdEZyYW1lVGltZTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBmcHMgPSA0MDtcclxuICAgIHByaXZhdGUgZnBzSW50ZXJ2YWwgPSAxMDAwIC8gdGhpcy5mcHM7XHJcblxyXG4gICAgcHJpdmF0ZSBhbmltYXRlID0gKCkgPT4ge1xyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmFuaW1hdGUpO1xyXG5cclxuICAgICAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTtcclxuICAgICAgICB2YXIgZWxhcHNlZCA9IG5vdyAtIHRoaXMubGFzdEZyYW1lVGltZTtcclxuXHJcbiAgICAgICAgaWYgKGVsYXBzZWQgPiB0aGlzLmZwc0ludGVydmFsKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdEZyYW1lVGltZSA9IG5vdztcclxuICAgICAgICAgICAgdmFyIHRpbWVEaWZmID0gZWxhcHNlZCAvIDEwMDA7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHVwZGF0ZSBvZiB0aGlzLnVwZGF0ZXMpIHtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZSh0aW1lRGlmZik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgYW5pbWF0ZSBvZiB0aGlzLmFuaW1hdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIGFuaW1hdGUodGhpcy5jdHgsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQW5pbWF0aW9uRnVuY3Rpb24sIFVwZGF0ZUZ1bmN0aW9uLCBBbmltYXRhYmxlLCBBbmltYXRpb24gfSBmcm9tIFwiLi9hbmltYXRpb25cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBWaWV3IGltcGxlbWVudHMgQW5pbWF0YWJsZSB7XHJcbiAgICBwdWJsaWMgYW5pbWF0aW9uczogQW5pbWF0aW9uRnVuY3Rpb25bXSA9IFtdO1xyXG4gICAgcHVibGljIHVwZGF0ZXM6IFVwZGF0ZUZ1bmN0aW9uW10gPSBbXTtcclxuICAgIHByaXZhdGUgaXNWaXNpYmxlID0gdHJ1ZTtcclxuXHJcbiAgICBwdWJsaWMgd2lkdGg6IG51bWJlcjtcclxuICAgIHB1YmxpYyBoZWlnaHQ6IG51bWJlcjtcclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlID0gKHRpbWVEaWZmOiBudW1iZXIpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5pc1Zpc2libGUpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCB1cGRhdGUgb2YgdGhpcy51cGRhdGVzKSB7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGUodGltZURpZmYpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHVibGljIGRyYXcgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHdpZHRoPzogbnVtYmVyLCBoZWlnaHQ/OiBudW1iZXIpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5pc1Zpc2libGUpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBhbmltYXRlIG9mIHRoaXMuYW5pbWF0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgYW5pbWF0ZShjdHgsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzaG93ID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuaXNWaXNpYmxlID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaGlkZSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmlzVmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRBbmltYXRpb24gPSAoZnVuYzogQW5pbWF0aW9uRnVuY3Rpb24pID0+IHtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbnMucHVzaChmdW5jKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlQW5pbWF0aW9uID0gKGZ1bmM6IEFuaW1hdGlvbkZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25zLnNwbGljZSh0aGlzLmFuaW1hdGlvbnMuaW5kZXhPZihmdW5jKSwgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZFVwZGF0ZSA9IChmdW5jOiBVcGRhdGVGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkYXRlcy5wdXNoKGZ1bmMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVVcGRhdGUgPSAoZnVuYzogVXBkYXRlRnVuY3Rpb24pID0+IHtcclxuICAgICAgICB0aGlzLnVwZGF0ZXMuc3BsaWNlKHRoaXMudXBkYXRlcy5pbmRleE9mKGZ1bmMpLCAxKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkQW5pbWF0YWJsZSA9IChhbmltYXRhYmxlOiBBbmltYXRhYmxlKSA9PiB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVzLnB1c2goYW5pbWF0YWJsZS51cGRhdGUpO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucy5wdXNoKGFuaW1hdGFibGUuZHJhdyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZUFuaW1hdGFibGUgPSAoYW5pbWF0YWJsZTogQW5pbWF0YWJsZSkgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkYXRlcy5zcGxpY2UodGhpcy51cGRhdGVzLmluZGV4T2YoYW5pbWF0YWJsZS51cGRhdGUpLCAxKTtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbnMuc3BsaWNlKHRoaXMuYW5pbWF0aW9ucy5pbmRleE9mKGFuaW1hdGFibGUuZHJhdyksIDEpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQW5pbWF0YWJsZSB9IGZyb20gXCIuL2FuaW1hdGlvblwiO1xyXG5pbXBvcnQgeyBDb250cm9sbGVyIH0gZnJvbSBcIi4vY29udHJvbGxlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1lbnVCbGFkZSBpbXBsZW1lbnRzIEFuaW1hdGFibGUge1xyXG4gICAgcHJpdmF0ZSBhbmdsZTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBpc1Nob3duID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIGlzQWRkZWQgPSBmYWxzZTtcclxuICAgIHByaXZhdGUgYWRkVGltZXI6IG51bWJlcjtcclxuICAgIHByaXZhdGUgYWRkVGltZXJTZWNvbmRzID0gMS41O1xyXG4gICAgcHJpdmF0ZSByZW1vdmVUaW1lclNlY29uZHMgPSAyLjU7XHJcbiAgICBwdWJsaWMgeDogbnVtYmVyO1xyXG4gICAgcHVibGljIHk6IG51bWJlcjtcclxuICAgIHByaXZhdGUgcmVtZW1iZXJlZFggPSAwO1xyXG4gICAgcHJpdmF0ZSByZW1lbWJlcmVkWSA9IDA7XHJcblxyXG4gICAgcHVibGljIGxvY2F0aW9uID0gMDtcclxuXHJcbiAgICBwdWJsaWMgY29sb3I6IHN0cmluZztcclxuXHJcbiAgICBwdWJsaWMgZ2V0IGNvbnRyb2xsZXJOYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udHJvbGxlci5uYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBjb250cm9sbGVyOiBDb250cm9sbGVyLCBwcml2YXRlIG9uU2hvdzogKGJsYWRlOiBNZW51QmxhZGUpID0+IHZvaWQsIHByaXZhdGUgb25BZGQ6IChibGFkZTogTWVudUJsYWRlKSA9PiB2b2lkLCBwcml2YXRlIG9uUmVtb3ZlOiAoYmxhZGU6IE1lbnVCbGFkZSkgPT4gdm9pZCwgcHJpdmF0ZSBzdGFydDogKCkgPT4gdm9pZCkge1xyXG4gICAgICAgIHRoaXMuY29sb3IgPSBcImJsYWNrXCI7XHJcbiAgICAgICAgdGhpcy54ID0gMDtcclxuICAgICAgICB0aGlzLnkgPSAwO1xyXG4gICAgICAgIHRoaXMuYW5nbGUgPSAwO1xyXG4gICAgICAgIHRoaXMuYWRkVGltZXIgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUgPSAodGltZURpZmY6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmlzU2hvd24pIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNBZGRlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hbmdsZSA9IHRoaXMuYW5nbGUgKyBNYXRoLlBJIC8gOTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYW5nbGUgPSB0aGlzLmFuZ2xlICUgKE1hdGguUEkgKiAyKTtcclxuICAgICAgICAgICAgICAgIHRoaXMueCA9IHRoaXMucmVtZW1iZXJlZFggKyB0aGlzLmNvbnRyb2xsZXIueEF4ZXMgKiAyNTtcclxuICAgICAgICAgICAgICAgIHRoaXMueSA9IHRoaXMucmVtZW1iZXJlZFkgKyB0aGlzLmNvbnRyb2xsZXIueUF4ZXMgKiAyNTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb250cm9sbGVyLnlBeGVzID4gMC4zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRUaW1lciArPSB0aGlzLmNvbnRyb2xsZXIueUF4ZXMgKiB0aW1lRGlmZjtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hZGRUaW1lciA+PSB0aGlzLnJlbW92ZVRpbWVyU2Vjb25kcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFRpbWVyID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1Nob3duID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNBZGRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uUmVtb3ZlKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jb250cm9sbGVyLnlBeGVzIDwgMC4xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRUaW1lciA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29udHJvbGxlci5zdGFydCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic3RhcnRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29udHJvbGxlci55QXhlcyA8IC0wLjMpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFRpbWVyIC09IHRoaXMuY29udHJvbGxlci55QXhlcyAqIHRpbWVEaWZmO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hZGRUaW1lciA+PSB0aGlzLmFkZFRpbWVyU2Vjb25kcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uQWRkKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQWRkZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFRpbWVyID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY29udHJvbGxlci55QXhlcyA+IC0wLjEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFRpbWVyID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzU2hvd24gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uUmVtb3ZlKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY29udHJvbGxlci55QXhlcyA8IC0wLjMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub25TaG93KHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1Nob3duID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkVGltZXIgLT0gdGhpcy5jb250cm9sbGVyLnlBeGVzICogdGltZURpZmY7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgZHJhdyA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgd2lkdGg/OiBudW1iZXIsIGhlaWdodD86IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmxvY2F0aW9uID4gMCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmxvY2F0aW9uKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBjb2xvciA9IFwiYmxhY2tcIjtcclxuICAgICAgICAgICAgbGV0IHN0YXJ0WCA9IDA7XHJcbiAgICAgICAgICAgIGxldCBzdGFydFkgPSAwO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMubG9jYXRpb24pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICBjb2xvciA9IFwicmVkXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRYID0gd2lkdGggLyAzO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0WSA9IChoZWlnaHQgLSAxMDApIC8gMyArIDEwMDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICBjb2xvciA9IFwiZ3JlZW5cIjtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydFggPSB3aWR0aCAvIDMgKiAyO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0WSA9IChoZWlnaHQgLSAxMDApIC8gMyArIDEwMDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICBjb2xvciA9IFwiYmx1ZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0WCA9IHdpZHRoIC8gMztcclxuICAgICAgICAgICAgICAgICAgICBzdGFydFkgPSAoaGVpZ2h0IC0gMTAwKSAvIDMgKiAyICsgMTAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yID0gXCJvcmFuZ2VcIjtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydFggPSB3aWR0aCAvIDMgKiAyO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0WSA9IChoZWlnaHQgLSAxMDApIC8gMyAqIDIgKyAxMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yO1xyXG4gICAgICAgICAgICB0aGlzLnggPSBzdGFydFg7XHJcbiAgICAgICAgICAgIHRoaXMueSA9IHN0YXJ0WTtcclxuICAgICAgICAgICAgdGhpcy5yZW1lbWJlcmVkWCA9IHN0YXJ0WDtcclxuICAgICAgICAgICAgdGhpcy5yZW1lbWJlcmVkWSA9IHN0YXJ0WTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubG9jYXRpb24gPSAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7XHJcbiAgICAgICAgY3R4LnNhdmUoKTtcclxuICAgICAgICBjdHgudHJhbnNsYXRlKHRoaXMueCwgdGhpcy55KTtcclxuICAgICAgICBpZiAodGhpcy5pc0FkZGVkKSB7XHJcbiAgICAgICAgICAgIGN0eC5zYXZlKCk7XHJcbiAgICAgICAgICAgIGN0eC5yb3RhdGUodGhpcy5hbmdsZSk7XHJcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdCgtMjUsIC0yNSwgNTAsIDUwKTtcclxuICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzU2hvd24gJiYgIXRoaXMuaXNBZGRlZCkge1xyXG4gICAgICAgICAgICBjdHguZmlsbFJlY3QoLTI1LCAzNSwgNTAgLyB0aGlzLmFkZFRpbWVyU2Vjb25kcyAqIHRoaXMuYWRkVGltZXIsIDEwKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzU2hvd24gJiYgdGhpcy5pc0FkZGVkICYmIHRoaXMuYWRkVGltZXIgPiAwKSB7XHJcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdCgtMjUsIDM1LCA1MCAtIDUwIC8gdGhpcy5yZW1vdmVUaW1lclNlY29uZHMgKiB0aGlzLmFkZFRpbWVyLCAxMCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjdHgucmVzdG9yZSgpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQ29udHJvbGxlciB9IGZyb20gXCIuL2NvbnRyb2xsZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBLZXlib2FyZENvbnRyb2xzIGltcGxlbWVudHMgQ29udHJvbGxlciB7XHJcbiAgICBwdWJsaWMgeEF4ZXM6IG51bWJlcjtcclxuICAgIHB1YmxpYyB5QXhlczogbnVtYmVyO1xyXG5cclxuICAgIHB1YmxpYyBzdGFydDogYm9vbGVhbjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgbmFtZTogc3RyaW5nLCBsZWZ0S2V5OiBudW1iZXIsIHVwS2V5OiBudW1iZXIsIHJpZ2h0S2V5OiBudW1iZXIsIGRvd25LZXk6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMueEF4ZXMgPSAwO1xyXG4gICAgICAgIHRoaXMueUF4ZXMgPSAwO1xyXG4gICAgICAgIHRoaXMuc3RhcnQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSBsZWZ0S2V5KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnhBeGVzID0gLTFcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSB1cEtleSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy55QXhlcyA9IC0xO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IHJpZ2h0S2V5KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnhBeGVzID0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSBkb3duS2V5KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnlBeGVzID0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSAxMykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gbGVmdEtleSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMueEF4ZXMgPSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMueEF4ZXMgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IHVwS2V5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy55QXhlcyA9IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy55QXhlcyA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gcmlnaHRLZXkpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnhBeGVzID0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMueEF4ZXMgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IGRvd25LZXkpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnlBeGVzID0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMueUF4ZXMgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IDEzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IENvbnRyb2xsZXIgfSBmcm9tIFwiLi9jb250cm9sbGVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZXBhZENvbnRyb2xzIGltcGxlbWVudHMgQ29udHJvbGxlciB7XHJcbiAgICBwdWJsaWMgZ2V0IHhBeGVzKCk6IG51bWJlciB7XHJcbiAgICAgICAgdmFyIGdhbWVwYWRzID0gbmF2aWdhdG9yLmdldEdhbWVwYWRzKCk7XHJcbiAgICAgICAgdmFyIGdwID0gZ2FtZXBhZHNbdGhpcy5pbmRleF07XHJcbiAgICAgICAgcmV0dXJuIGdwLmF4ZXNbMF07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCB5QXhlcygpOiBudW1iZXIge1xyXG4gICAgICAgIHZhciBnYW1lcGFkcyA9IG5hdmlnYXRvci5nZXRHYW1lcGFkcygpO1xyXG4gICAgICAgIHZhciBncCA9IGdhbWVwYWRzW3RoaXMuaW5kZXhdO1xyXG4gICAgICAgIHJldHVybiBncC5heGVzWzFdO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgc3RhcnQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgdmFyIGdhbWVwYWRzID0gbmF2aWdhdG9yLmdldEdhbWVwYWRzKCk7XHJcbiAgICAgICAgdmFyIGdwID0gZ2FtZXBhZHNbdGhpcy5pbmRleF07XHJcbiAgICAgICAgcmV0dXJuIGdwLmJ1dHRvbnNbOV0ucHJlc3NlZDtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgbmFtZTogc3RyaW5nLCBwcml2YXRlIGluZGV4OiBudW1iZXIpIHtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFZpZXcgfSBmcm9tIFwiLi92aWV3XCI7XHJcbmltcG9ydCB7IE1lbnVCbGFkZSB9IGZyb20gXCIuL21lbnVCbGFkZVwiO1xyXG5pbXBvcnQgeyBLZXlib2FyZENvbnRyb2xzIH0gZnJvbSBcIi4va2V5Ym9hcmRDb250cm9sc1wiO1xyXG5pbXBvcnQgeyBHYW1lcGFkQ29udHJvbHMgfSBmcm9tIFwiLi9nYW1lcGFkQ29udHJvbHNcIjtcclxuaW1wb3J0IHsgQ29udHJvbGxlciB9IGZyb20gXCIuL2NvbnRyb2xsZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBNZW51VmlldyBleHRlbmRzIFZpZXcge1xyXG4gICAgcHJpdmF0ZSBtZW51QmxhZGVzOiBNZW51QmxhZGVbXSA9IFtdO1xyXG4gICAgcHVibGljIGNvbnRyb2xsZXJzOiBDb250cm9sbGVyW10gPSBbXTtcclxuICAgIHByaXZhdGUgZ2FtZXBhZHM6IHsgW2lkOiBzdHJpbmddOiBHYW1lcGFkIH0gPSB7fTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHN0YXJ0OiAoKSA9PiB2b2lkKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB2YXIgaGF2ZUV2ZW50cyA9ICdvbmdhbWVwYWRjb25uZWN0ZWQnIGluIHdpbmRvdztcclxuICAgICAgICB0aGlzLmFkZEFuaW1hdGlvbigoY3R4LCB3aWR0aCwgaGVpZ2h0KSA9PiB7XHJcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBcImJsYWNrXCI7XHJcbiAgICAgICAgICAgIGN0eC50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xyXG4gICAgICAgICAgICBjdHguZm9udCA9IFwiMjJweCBzYW5zLXNlcmlmXCI7XHJcbiAgICAgICAgICAgIGN0eC5maWxsVGV4dChcIllvdSBjYW4gY29udHJvbCBhIGJsYWRlIHdpdGggYSBnYW1lcGFkLCB0aGUgYXJyb3cga2V5cyBvciBXQVNELlwiLCB3aWR0aCAvIDIsIDUwKTtcclxuICAgICAgICAgICAgY3R4LmZpbGxUZXh0KFwiUHJlc3MgdXAgdG8gam9pbiBhbmQgZG93biB0byBsZWF2ZS5cIiwgd2lkdGggLyAyLCA4MCk7XHJcbiAgICAgICAgICAgIGN0eC5maWxsVGV4dChcIlByZXNzIGVudGVyIG9uIGtleWJvYXJkIG9yIHN0YXJ0IG9uIGEgY29udHJvbGxlciB0byBzdGFydC5cIiwgd2lkdGggLyAyLCAxMTApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZhciBibGFkZTEgPSBuZXcgTWVudUJsYWRlKG5ldyBLZXlib2FyZENvbnRyb2xzKFwiYXJyb3dzXCIsIDM3LCAzOCwgMzksIDQwKSwgdGhpcy5zaG93TWVudUJsYWRlLCB0aGlzLmFkZENvbnRyb2xsZXIsIHRoaXMucmVtb3ZlQ29udHJvbGxlckFuZE1lbnVCbGFkZSwgc3RhcnQpO1xyXG4gICAgICAgIHRoaXMuYWRkQW5pbWF0YWJsZShibGFkZTEpO1xyXG4gICAgICAgIHZhciBibGFkZTIgPSBuZXcgTWVudUJsYWRlKG5ldyBLZXlib2FyZENvbnRyb2xzKFwid2FzZFwiLCA2NSwgODcsIDY4LCA4MyksIHRoaXMuc2hvd01lbnVCbGFkZSwgdGhpcy5hZGRDb250cm9sbGVyLCB0aGlzLnJlbW92ZUNvbnRyb2xsZXJBbmRNZW51QmxhZGUsIHN0YXJ0KTtcclxuICAgICAgICB0aGlzLmFkZEFuaW1hdGFibGUoYmxhZGUyKTtcclxuXHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJnYW1lcGFkY29ubmVjdGVkXCIsIHRoaXMuY29ubmVjdGhhbmRsZXIpO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiZ2FtZXBhZGRpc2Nvbm5lY3RlZFwiLCB0aGlzLmRpc2Nvbm5lY3RoYW5kbGVyKTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJoYXZlRXZlbnRzOiBcIiArIGhhdmVFdmVudHMpO1xyXG5cclxuICAgICAgICBpZiAoIWhhdmVFdmVudHMpIHtcclxuICAgICAgICAgICAgc2V0SW50ZXJ2YWwodGhpcy5zY2FuZ2FtZXBhZHMsIDUwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2hvd01lbnVCbGFkZSA9IChtZW51QmxhZGU6IE1lbnVCbGFkZSkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKG1lbnVCbGFkZS5jb250cm9sbGVyTmFtZSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm1lbnVCbGFkZXMubGVuZ3RoIDw9IDQpIHtcclxuICAgICAgICAgICAgdGhpcy5tZW51QmxhZGVzLnB1c2gobWVudUJsYWRlKTtcclxuICAgICAgICAgICAgbWVudUJsYWRlLmxvY2F0aW9uID0gdGhpcy5tZW51QmxhZGVzLmxlbmd0aDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlNvcnJ5LCBvbmx5IDQgY29udHJvbGxlcnMgc3VwcG9ydGVkXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFkZENvbnRyb2xsZXIgPSAobWVudUJsYWRlOiBNZW51QmxhZGUpID0+IHtcclxuICAgICAgICB0aGlzLmNvbnRyb2xsZXJzLnB1c2gobWVudUJsYWRlLmNvbnRyb2xsZXIpXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJhZGRlZCBjb250cm9sbGVyIFwiICsgbWVudUJsYWRlLmNvbnRyb2xsZXJOYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlbW92ZUNvbnRyb2xsZXJBbmRNZW51QmxhZGUgPSAobWVudUJsYWRlOiBNZW51QmxhZGUpID0+IHtcclxuICAgICAgICB0aGlzLm1lbnVCbGFkZXMuc3BsaWNlKHRoaXMubWVudUJsYWRlcy5pbmRleE9mKG1lbnVCbGFkZSksIDEpO1xyXG4gICAgICAgIHRoaXMuY29udHJvbGxlcnMuc3BsaWNlKHRoaXMuY29udHJvbGxlcnMuaW5kZXhPZihtZW51QmxhZGUuY29udHJvbGxlciksIDEpO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhcInJlbW92ZWQgY29udHJvbGxlciBcIiArIG1lbnVCbGFkZS5jb250cm9sbGVyTmFtZSk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1lbnVCbGFkZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgbWVudUJsYWRlID0gdGhpcy5tZW51QmxhZGVzW2ldO1xyXG4gICAgICAgICAgICBtZW51QmxhZGUubG9jYXRpb24gPSBpICsgMTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29ubmVjdGhhbmRsZXIgPSAoZTogR2FtZXBhZEV2ZW50KSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJnYW1lcGFkIGNvbm5lY3RlZDogXCIgKyBlLmdhbWVwYWQuaW5kZXggKyBcIi9cIiArIGUuZ2FtZXBhZC5pZCk7XHJcbiAgICAgICAgdGhpcy5hZGRnYW1lcGFkKGUuZ2FtZXBhZCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2NhbmdhbWVwYWRzID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwic2NhbmdhbWVwYWRzXCIpO1xyXG5cclxuICAgICAgICB2YXIgZ2FtZXBhZHMgPSBuYXZpZ2F0b3IuZ2V0R2FtZXBhZHMgPyBuYXZpZ2F0b3IuZ2V0R2FtZXBhZHMoKSA6IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2FtZXBhZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGdhbWVwYWRzW2ldKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInNjYW5uZWQgZ2FtZXBhZDogXCIgKyBnYW1lcGFkc1tpXS5pbmRleCArIFwiL1wiICsgZ2FtZXBhZHNbaV0uaWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGdhbWVwYWRzW2ldLmluZGV4IGluIHRoaXMuZ2FtZXBhZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbWVwYWRzW2dhbWVwYWRzW2ldLmluZGV4XSA9IGdhbWVwYWRzW2ldO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZGdhbWVwYWQoZ2FtZXBhZHNbaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRpc2Nvbm5lY3RoYW5kbGVyID0gKGU6IEdhbWVwYWRFdmVudCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiZ2FtZXBhZCBkaXNjb25uZWN0ZWQ6IFwiICsgZS5nYW1lcGFkLmluZGV4ICsgXCIvXCIgKyBlLmdhbWVwYWQuaWQpO1xyXG4gICAgICAgIHRoaXMucmVtb3ZlZ2FtZXBhZChlLmdhbWVwYWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZWdhbWVwYWQgPSAoZ2FtZXBhZDogR2FtZXBhZCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwicmVtb3ZpbmcgZ2FtZXBhZDogXCIgKyBnYW1lcGFkLmluZGV4ICsgXCIvXCIgKyBnYW1lcGFkLmlkKTtcclxuICAgICAgICBkZWxldGUgdGhpcy5nYW1lcGFkc1tnYW1lcGFkLmluZGV4XTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubWVudUJsYWRlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBtZW51QmxhZGUgPSB0aGlzLm1lbnVCbGFkZXNbaV07XHJcbiAgICAgICAgICAgIGlmIChtZW51QmxhZGUuY29udHJvbGxlck5hbWUgPT0gZ2FtZXBhZC5pbmRleC50b1N0cmluZygpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1lbnVCbGFkZXMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYWRkZ2FtZXBhZCA9IChnYW1lcGFkOiBHYW1lcGFkKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJhZGRpbmcgZ2FtZXBhZDogXCIgKyBnYW1lcGFkLmluZGV4ICsgXCIvXCIgKyBnYW1lcGFkLmlkKTtcclxuXHJcbiAgICAgICAgdGhpcy5nYW1lcGFkc1tnYW1lcGFkLmluZGV4XSA9IGdhbWVwYWQ7XHJcbiAgICAgICAgdmFyIGJsYWRlID0gbmV3IE1lbnVCbGFkZShuZXcgR2FtZXBhZENvbnRyb2xzKGdhbWVwYWQuaW5kZXgudG9TdHJpbmcoKSwgZ2FtZXBhZC5pbmRleCksIHRoaXMuc2hvd01lbnVCbGFkZSwgdGhpcy5hZGRDb250cm9sbGVyLCB0aGlzLnJlbW92ZUNvbnRyb2xsZXJBbmRNZW51QmxhZGUsIHRoaXMuc3RhcnQpO1xyXG4gICAgICAgIHRoaXMuYWRkQW5pbWF0YWJsZShibGFkZSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBBbmltYXRhYmxlIH0gZnJvbSBcIi4vYW5pbWF0aW9uXCI7XHJcbmltcG9ydCB7IENvbnRyb2xsZXIgfSBmcm9tIFwiLi9jb250cm9sbGVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQmxhZGUgaW1wbGVtZW50cyBBbmltYXRhYmxlIHtcclxuICAgIHB1YmxpYyB4OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgeTogbnVtYmVyO1xyXG4gICAgcHVibGljIGNvbG9yOiBzdHJpbmdcclxuICAgIHB1YmxpYyB2eDogbnVtYmVyO1xyXG4gICAgcHVibGljIHZ5OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgcjogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBhbmdsZTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBtOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGY6IG51bWJlcjtcclxuICAgIHByaXZhdGUgQTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBjdzogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBwOiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBjb250cm9sbGVyOiBDb250cm9sbGVyKSB7XHJcbiAgICAgICAgdGhpcy54ID0gMDtcclxuICAgICAgICB0aGlzLnkgPSAwO1xyXG4gICAgICAgIHRoaXMuY29sb3IgPSBcImJsYWNrXCI7XHJcbiAgICAgICAgdGhpcy52eCA9IDA7XHJcbiAgICAgICAgdGhpcy52eSA9IDA7XHJcbiAgICAgICAgdGhpcy5hbmdsZSA9IDA7XHJcbiAgICAgICAgdGhpcy5tID0gMC4xO1xyXG4gICAgICAgIHRoaXMuZiA9IDQ2MztcclxuICAgICAgICB0aGlzLnIgPSAyNTtcclxuXHJcbiAgICAgICAgdGhpcy5BID0gMC4wMTtcclxuICAgICAgICB0aGlzLmN3ID0gMC4wNTtcclxuICAgICAgICB0aGlzLnAgPSAxO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUgPSAodGltZURpZmY6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIHRoaXMuYW5nbGUgPSB0aGlzLmFuZ2xlICsgTWF0aC5QSSAvIDk7XHJcbiAgICAgICAgdGhpcy5hbmdsZSA9IHRoaXMuYW5nbGUgJSAoTWF0aC5QSSAqIDIpO1xyXG5cclxuICAgICAgICB2YXIgZkZyaWN0aW9uWCA9IDAuNSAqIHRoaXMuQSAqIHRoaXMuY3cgKiB0aGlzLnAgKiB0aGlzLnZ4ICogTWF0aC5hYnModGhpcy52eCk7XHJcbiAgICAgICAgdmFyIGZGcmljdGlvblkgPSAwLjUgKiB0aGlzLkEgKiB0aGlzLmN3ICogdGhpcy5wICogdGhpcy52eSAqIE1hdGguYWJzKHRoaXMudnkpO1xyXG5cclxuICAgICAgICB2YXIgYXggPSB0aGlzLmYgKiB0aGlzLmNvbnRyb2xsZXIueEF4ZXMgLSBmRnJpY3Rpb25YIC8gdGhpcy5tO1xyXG4gICAgICAgIHZhciBheSA9IHRoaXMuZiAqIHRoaXMuY29udHJvbGxlci55QXhlcyAtIGZGcmljdGlvblkgLyB0aGlzLm07XHJcblxyXG4gICAgICAgIHRoaXMudnggKz0gYXggKiB0aW1lRGlmZjtcclxuICAgICAgICB0aGlzLnZ5ICs9IGF5ICogdGltZURpZmY7XHJcblxyXG4gICAgICAgIHRoaXMueCArPSB0aGlzLnZ4ICogdGltZURpZmY7XHJcbiAgICAgICAgdGhpcy55ICs9IHRoaXMudnkgKiB0aW1lRGlmZjtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRyYXcgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHdpZHRoPzogbnVtYmVyLCBoZWlnaHQ/OiBudW1iZXIpID0+IHtcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvcjtcclxuICAgICAgICBjdHguc2F2ZSgpO1xyXG5cclxuICAgICAgICBjdHgudHJhbnNsYXRlKHRoaXMueCwgdGhpcy55KTtcclxuICAgICAgICBjdHgucm90YXRlKHRoaXMuYW5nbGUpO1xyXG4gICAgICAgIHZhciBjdWJlU2l6ZSA9IE1hdGguc3FydCh0aGlzLnIgKiB0aGlzLnIgLyAyKVxyXG4gICAgICAgIGN0eC5maWxsUmVjdCgtY3ViZVNpemUsIC1jdWJlU2l6ZSwgY3ViZVNpemUgKiAyLCBjdWJlU2l6ZSAqIDIpO1xyXG4gICAgICAgIGN0eC5yZXN0b3JlKCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBBbmltYXRhYmxlIH0gZnJvbSBcIi4vYW5pbWF0aW9uXCI7XHJcbmltcG9ydCB7IEJsYWRlIH0gZnJvbSBcIi4vYmxhZGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb2xsaWRlciBpbXBsZW1lbnRzIEFuaW1hdGFibGUge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgYmxhZGVzOiBCbGFkZVtdLCBwcml2YXRlIGJvcmRlclJpZ2h0OiBudW1iZXIsIHByaXZhdGUgYm9yZGVyQm90dG9tOiBudW1iZXIpIHtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlID0gKHRpbWVEaWZmOiBudW1iZXIpID0+IHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYmxhZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJsYWRlID0gdGhpcy5ibGFkZXNbaV07XHJcbiAgICAgICAgICAgIGlmIChibGFkZS54IC0gYmxhZGUuciA8IDApIHtcclxuICAgICAgICAgICAgICAgIGJsYWRlLnZ4ID0gLSBibGFkZS52eDtcclxuICAgICAgICAgICAgICAgIGJsYWRlLnggPSBibGFkZS5yIC0gYmxhZGUueCArIGJsYWRlLnI7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYmxhZGUueCArIGJsYWRlLnIgPiB0aGlzLmJvcmRlclJpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICBibGFkZS52eCA9IC0gYmxhZGUudng7XHJcbiAgICAgICAgICAgICAgICBibGFkZS54ID0gdGhpcy5ib3JkZXJSaWdodCAtIChibGFkZS54ICsgYmxhZGUuciAtIHRoaXMuYm9yZGVyUmlnaHQpIC0gYmxhZGUucjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoYmxhZGUueSAtIGJsYWRlLnIgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICBibGFkZS52eSA9IC0gYmxhZGUudnk7XHJcbiAgICAgICAgICAgICAgICBibGFkZS55ID0gYmxhZGUuciAtIGJsYWRlLnkgKyBibGFkZS5yO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGJsYWRlLnkgKyBibGFkZS5yID4gdGhpcy5ib3JkZXJCb3R0b20pIHtcclxuICAgICAgICAgICAgICAgIGJsYWRlLnZ5ID0gLSBibGFkZS52eTtcclxuICAgICAgICAgICAgICAgIGJsYWRlLnkgPSB0aGlzLmJvcmRlckJvdHRvbSAtIChibGFkZS55ICsgYmxhZGUuciAtIHRoaXMuYm9yZGVyQm90dG9tKSAtIGJsYWRlLnI7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5ibGFkZXMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChqIDw9IGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IGJsYWRlMiA9IHRoaXMuYmxhZGVzW2pdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRpc3RhbmNlWCA9IGJsYWRlMi54IC0gYmxhZGUueDtcclxuICAgICAgICAgICAgICAgIHZhciBkaXN0YW5jZVkgPSBibGFkZTIueSAtIGJsYWRlLnk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGlzdGFuY2UgPSBNYXRoLnNxcnQoZGlzdGFuY2VYICogZGlzdGFuY2VYICsgZGlzdGFuY2VZICogZGlzdGFuY2VZKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2UgPD0gYmxhZGUuciAqIDIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImNvbGxpc2lvblwiKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc2l0aW9uQ29ycmVjdGlvbihkaXN0YW5jZSwgYmxhZGUsIGRpc3RhbmNlWCwgZGlzdGFuY2VZLCBibGFkZTIpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuY29sbGlzaW9uKGRpc3RhbmNlWSwgZGlzdGFuY2VYLCBibGFkZSwgYmxhZGUyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZHJhdyA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgd2lkdGg/OiBudW1iZXIsIGhlaWdodD86IG51bWJlcikgPT4ge1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY29sbGlzaW9uKGRpc3RhbmNlWTogbnVtYmVyLCBkaXN0YW5jZVg6IG51bWJlciwgYmxhZGUxOiBCbGFkZSwgYmxhZGUyOiBCbGFkZSkge1xyXG4gICAgICAgIHZhciBkaXN0YW5jZVJlbGF0aW9uID0gZGlzdGFuY2VZIC8gZGlzdGFuY2VYO1xyXG4gICAgICAgIGlmIChkaXN0YW5jZVggPj0gMCkge1xyXG4gICAgICAgICAgICBpZiAoZGlzdGFuY2VSZWxhdGlvbiA8IDEgJiYgZGlzdGFuY2VSZWxhdGlvbiA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29sbGlzaW9uQW5nbGUgPSBNYXRoLmF0YW4oZGlzdGFuY2VSZWxhdGlvbik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjb2xsaXNpb25BbmdsZSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdkFuZ2xlQmxhZGUxID0gTWF0aC5hdGFuKGJsYWRlMS52eSAvIGJsYWRlMS52eCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdkxlbmd0aEJsYWRlMSA9IE1hdGguc3FydChibGFkZTEudnggKiBibGFkZTEudnggKyBibGFkZTEudnkgKiBibGFkZTEudnkpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHZBbmdsZUJsYWRlMiA9IE1hdGguYXRhbihibGFkZTIudnkgLyBibGFkZTIudngpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHZMZW5ndGhCbGFkZTIgPSBNYXRoLnNxcnQoYmxhZGUyLnZ4ICogYmxhZGUyLnZ4ICsgYmxhZGUyLnZ5ICogYmxhZGUyLnZ5KTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgbmV3QW5nbGUxID0gMDtcclxuICAgICAgICAgICAgICAgIGlmICh2QW5nbGVCbGFkZTEgPiBjb2xsaXNpb25BbmdsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld0FuZ2xlMSA9IGNvbGxpc2lvbkFuZ2xlIC0gKHZBbmdsZUJsYWRlMSAtIGNvbGxpc2lvbkFuZ2xlKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3QW5nbGUxID0gY29sbGlzaW9uQW5nbGUgKyAoY29sbGlzaW9uQW5nbGUgLSB2QW5nbGVCbGFkZTEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIHZ4QmxhZGUxTmV3ID0gLSBNYXRoLmNvcyhuZXdBbmdsZTEpICogdkxlbmd0aEJsYWRlMTtcclxuICAgICAgICAgICAgICAgIHZhciB2eUJsYWRlMU5ldyA9IC0gTWF0aC5zaW4obmV3QW5nbGUxKSAqIHZMZW5ndGhCbGFkZTE7XHJcblxyXG4gICAgICAgICAgICAgICAgYmxhZGUxLnZ4ID0gdnhCbGFkZTFOZXc7XHJcbiAgICAgICAgICAgICAgICBibGFkZTEudnkgPSB2eUJsYWRlMU5ldztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZVkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYm90dG9tXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0b3BcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGRpc3RhbmNlUmVsYXRpb24gPCAxICYmIGRpc3RhbmNlUmVsYXRpb24gPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbGxpc2lvbkFuZ2xlID0gLU1hdGguYXRhbihkaXN0YW5jZVJlbGF0aW9uKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGNvbGxpc2lvbkFuZ2xlKTtcclxuICAgICAgICAgICAgICAgIHZhciB2QW5nbGVCbGFkZTEgPSBNYXRoLmF0YW4oYmxhZGUxLnZ5IC8gYmxhZGUxLnZ4KTtcclxuICAgICAgICAgICAgICAgIHZhciB2TGVuZ3RoQmxhZGUxID0gTWF0aC5zcXJ0KGJsYWRlMS52eCAqIGJsYWRlMS52eCArIGJsYWRlMS52eSAqIGJsYWRlMS52eSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdkFuZ2xlQmxhZGUyID0gTWF0aC5hdGFuKGJsYWRlMi52eSAvIGJsYWRlMi52eCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdkxlbmd0aEJsYWRlMiA9IE1hdGguc3FydChibGFkZTIudnggKiBibGFkZTIudnggKyBibGFkZTIudnkgKiBibGFkZTIudnkpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBuZXdBbmdsZTEgPSAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZBbmdsZUJsYWRlMSA+IGNvbGxpc2lvbkFuZ2xlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3QW5nbGUxID0gY29sbGlzaW9uQW5nbGUgLSAodkFuZ2xlQmxhZGUxIC0gY29sbGlzaW9uQW5nbGUpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdBbmdsZTEgPSBjb2xsaXNpb25BbmdsZSArIChjb2xsaXNpb25BbmdsZSAtIHZBbmdsZUJsYWRlMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgdnhCbGFkZTFOZXcgPSAtIE1hdGguY29zKG5ld0FuZ2xlMSkgKiB2TGVuZ3RoQmxhZGUxO1xyXG4gICAgICAgICAgICAgICAgdmFyIHZ5QmxhZGUxTmV3ID0gTWF0aC5zaW4obmV3QW5nbGUxKSAqIHZMZW5ndGhCbGFkZTE7XHJcblxyXG4gICAgICAgICAgICAgICAgYmxhZGUxLnZ4ID0gdnhCbGFkZTFOZXc7XHJcbiAgICAgICAgICAgICAgICBibGFkZTEudnkgPSB2eUJsYWRlMU5ldztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZVkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYm90dG9tXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0b3BcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHBvc2l0aW9uQ29ycmVjdGlvbihkaXN0YW5jZTogbnVtYmVyLCBibGFkZTogQmxhZGUsIGRpc3RhbmNlWDogbnVtYmVyLCBkaXN0YW5jZVk6IG51bWJlciwgYmxhZGUyOiBCbGFkZSkge1xyXG4gICAgICAgIHZhciBjb3JyZWN0aW9uID0gKGRpc3RhbmNlIC0gYmxhZGUuciAqIDIpIC8gMjtcclxuICAgICAgICB2YXIgY29ycmVjdGlvbkZhY3RvciA9IGNvcnJlY3Rpb24gLyBkaXN0YW5jZTtcclxuICAgICAgICB2YXIgY29ycmVjdGlvbnggPSBjb3JyZWN0aW9uRmFjdG9yICogZGlzdGFuY2VYO1xyXG4gICAgICAgIHZhciBjb3JyZWN0aW9ueSA9IGNvcnJlY3Rpb25GYWN0b3IgKiBkaXN0YW5jZVk7XHJcbiAgICAgICAgYmxhZGUueCArPSBjb3JyZWN0aW9ueDtcclxuICAgICAgICBibGFkZS55ICs9IGNvcnJlY3Rpb255O1xyXG4gICAgICAgIGJsYWRlMi54IC09IGNvcnJlY3Rpb254O1xyXG4gICAgICAgIGJsYWRlMi55IC09IGNvcnJlY3Rpb255O1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQ29udHJvbGxlciB9IGZyb20gXCIuL2NvbnRyb2xsZXJcIjtcclxuaW1wb3J0IHsgVmlldyB9IGZyb20gXCIuL3ZpZXdcIjtcclxuaW1wb3J0IHsgQmxhZGUgfSBmcm9tIFwiLi9ibGFkZVwiO1xyXG5pbXBvcnQgeyBDb2xsaWRlciB9IGZyb20gXCIuL2NvbGxpZGVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZVZpZXcgZXh0ZW5kcyBWaWV3IHtcclxuXHJcbiAgICBwcml2YXRlIHN0YXJ0ZWQgPSBmYWxzZTtcclxuXHJcbiAgICBwcml2YXRlIGJsYWRlczogQmxhZGVbXSA9IFtdO1xyXG4gICAgcHVibGljIHN0YXJ0KGNvbnRyb2xsZXJzOiBDb250cm9sbGVyW10pIHtcclxuICAgICAgICBpZiAodGhpcy5zdGFydGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zdGFydGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coY29udHJvbGxlcnMpO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbnRyb2xsZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBjb250cm9sbGVyc1tpXTtcclxuICAgICAgICAgICAgdmFyIGJsYWRlID0gbmV3IEJsYWRlKGNvbnRyb2xsZXIpO1xyXG4gICAgICAgICAgICBsZXQgY29sb3IgPSBcImJsYWNrXCI7XHJcbiAgICAgICAgICAgIGxldCBzdGFydFggPSAwO1xyXG4gICAgICAgICAgICBsZXQgc3RhcnRZID0gMDtcclxuICAgICAgICAgICAgc3dpdGNoIChpICsgMSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yID0gXCJyZWRcIjtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydFggPSB0aGlzLndpZHRoIC8gMztcclxuICAgICAgICAgICAgICAgICAgICBzdGFydFkgPSB0aGlzLmhlaWdodCAvIDM7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3IgPSBcImdyZWVuXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRYID0gdGhpcy53aWR0aCAvIDMgKiAyO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0WSA9IHRoaXMuaGVpZ2h0IC8gMztcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICBjb2xvciA9IFwiYmx1ZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0WCA9IHRoaXMud2lkdGggLyAzO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0WSA9IHRoaXMuaGVpZ2h0IC8gMyAqIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3IgPSBcIm9yYW5nZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0WCA9IHRoaXMud2lkdGggLyAzICogMjtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydFkgPSB0aGlzLmhlaWdodCAvIDMgKiAyO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJsYWRlLmNvbG9yID0gY29sb3I7XHJcbiAgICAgICAgICAgIGJsYWRlLnggPSBzdGFydFg7XHJcbiAgICAgICAgICAgIGJsYWRlLnkgPSBzdGFydFk7XHJcbiAgICAgICAgICAgIHRoaXMuYmxhZGVzLnB1c2goYmxhZGUpO1xyXG4gICAgICAgICAgICB0aGlzLmFkZEFuaW1hdGFibGUoYmxhZGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmFkZEFuaW1hdGFibGUobmV3IENvbGxpZGVyKHRoaXMuYmxhZGVzLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCkpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQW5pbWF0aW9uIH0gZnJvbSBcIi4vYW5pbWF0aW9uXCI7XHJcbmltcG9ydCB7IE1lbnVWaWV3IH0gZnJvbSBcIi4vbWVudVZpZXdcIjtcclxuaW1wb3J0IHsgR2FtZVZpZXcgfSBmcm9tIFwiLi9nYW1lVmlld1wiO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBBcHAge1xyXG4gICAgYW5pbWF0aW9uOiBBbmltYXRpb247XHJcbiAgICBtZW51OiBNZW51VmlldztcclxuICAgIGdhbWU6IEdhbWVWaWV3O1xyXG5cclxuICAgIHB1YmxpYyBydW4oKSB7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb24gPSBBbmltYXRpb24uY3JlYXRlSW5Cb2R5KCk7XHJcbiAgICAgICAgdGhpcy5tZW51ID0gbmV3IE1lbnVWaWV3KHRoaXMuc3RhcnQpO1xyXG4gICAgICAgIHRoaXMuZ2FtZSA9IG5ldyBHYW1lVmlldygpO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uLmFkZFZpZXcodGhpcy5tZW51KTtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbi5hZGRWaWV3KHRoaXMuZ2FtZSk7XHJcbiAgICAgICAgdGhpcy5nYW1lLmhpZGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXJ0ID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMubWVudS5oaWRlKCk7XHJcbiAgICAgICAgdGhpcy5nYW1lLnNob3coKTtcclxuICAgICAgICB0aGlzLmdhbWUuc3RhcnQodGhpcy5tZW51LmNvbnRyb2xsZXJzKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEFwcCB9IGZyb20gXCIuL2FwcFwiO1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIG1haW4sIGZhbHNlKTtcclxuXHJcbmZ1bmN0aW9uIG1haW4oKSB7XHJcbiAgY29uc3QgYXBwID0gbmV3IEFwcCgpO1xyXG4gIGFwcC5ydW4oKTtcclxufSJdLCJzb3VyY2VSb290IjoiIn0=